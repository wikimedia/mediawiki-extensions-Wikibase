{
  "comments": [
    {
      "key": {
        "uuid": "e9fad0d5_63a855a9",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 50
      },
      "writtenOn": "2019-05-16T01:06:22Z",
      "side": 1,
      "message": "This should probably be outside of the try â€¦ catch, otherwise an exception from commitMasterChanges will trigger a rollback",
      "revId": "2207943259c160bdb7268508d1ab67773f5759b9",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "477c43e2_e7ead16f",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-16T10:05:55Z",
      "side": 1,
      "message": "But if we do it after the try..catch, then weâ€™ll do a commit after a rollback, which sounds nonsensical (though I guess it wouldnâ€™t actually commit anything? donâ€™t feel comfortable relying on that though).\n\nPythonâ€™s try..catch..else would work really nicely here (the else block only runs if there were no exceptions, but isnâ€™t guarded against exceptions), but we donâ€™t have that in PHP :/\n\nNot sure whatâ€™s better. Do you think a commit after rollback would be okay? Or should I add some sort of boolean flag thatâ€™s reset in the catch block to skip the commit?",
      "parentUuid": "e9fad0d5_63a855a9",
      "revId": "2207943259c160bdb7268508d1ab67773f5759b9",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4d86c0a_cad3f2fe",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 50
      },
      "writtenOn": "2019-05-17T00:58:33Z",
      "side": 1,
      "message": "\u003e Do you think a commit after rollback would be okay?\n\nYes, that should be fineâ€¦ AFAIS rollback also clears all relevant transaction flags, so that commit wouldn\u0027t ever(tm) throw an exception in that case.",
      "parentUuid": "477c43e2_e7ead16f",
      "revId": "2207943259c160bdb7268508d1ab67773f5759b9",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28a960b9_3c4d2156",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-19T14:45:53Z",
      "side": 1,
      "message": "Alternatively, we could just return in the `catch` block ðŸ¤¦",
      "parentUuid": "e4d86c0a_cad3f2fe",
      "revId": "2207943259c160bdb7268508d1ab67773f5759b9",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e54d61ed_a9207ff2",
        "filename": "repo/includes/Store/PropertyTermsRebuilder.php",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 50
      },
      "writtenOn": "2019-05-16T01:06:22Z",
      "side": 1,
      "message": "This should probably be outside of the try â€¦ catch, otherwise an exception from commitMasterChanges will trigger a rollback",
      "revId": "2207943259c160bdb7268508d1ab67773f5759b9",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}