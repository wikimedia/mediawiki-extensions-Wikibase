/*!/*@nomin*/(()=>{var e,t={8118:(e,t)=>{"use strict";t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r}},1466:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createServices:()=>Io,launch:()=>No}),r(8674),r(7727);var n=require("vue");const o={id:"data-bridge-app",class:"wb-db-app"},i={class:"wb-db-app__body"},s={key:0,class:"wb-db-app__license"},a={class:"wb-db-warning-anonymous-edit"},c={class:"wb-db-warning-anonymous-edit__heading"},u=["innerHTML"],l={class:"wb-db-warning-anonymous-edit__buttons"};r(3948);const p=["href","tabindex","role","aria-disabled","title","target","rel"],d={class:"wb-ui-event-emitting-button__text"},f=["primaryProgressive","close","neutral","back","link"],g=["close","back","link"],m=["close","back"],y=["M","L","XL"];var h=(0,n.defineComponent)({name:"EventEmittingButton",emits:["click"],props:{type:{type:String,required:!0,validator:e=>-1!==f.indexOf(e)},size:{type:String,required:!0,validator:e=>y.includes(e)},message:{required:!0,type:String},href:{type:String,required:!1,default:null},preventDefault:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1,default:!1},squary:{type:Boolean,required:!1,default:!1},newTab:{type:Boolean,required:!1,default:!1}},data:()=>({isPressed:!1}),computed:{isIconOnly(){return m.includes(this.type)},isFrameless(){return g.includes(this.type)},opensInNewTab(){return null!==this.href&&this.newTab},tabindex(){return this.disabled?-1:this.href?null:0}},methods:{handleSpacePress(e){this.simulateSpaceOnButton()&&(this.preventScrollingDown(e),this.isPressed=!0,this.click(e))},handleEnterPress(e){this.isPressed=!0,this.thereIsNoSeparateClickEvent()&&this.click(e)},unpress(){this.isPressed=!1},click(e){this.preventDefault&&this.preventOpeningLink(e),this.disabled||this.$emit("click",e)},preventOpeningLink(e){e.preventDefault()},preventScrollingDown(e){e.preventDefault()},thereIsNoSeparateClickEvent(){return null===this.href},simulateSpaceOnButton(){return null===this.href}},compatConfig:{MODE:3}}),E=r(8118),v=(0,E.Z)(h,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("a",{class:(0,n.normalizeClass)(["wb-ui-event-emitting-button",["wb-ui-event-emitting-button--"+this.type,"wb-ui-event-emitting-button--size-"+this.size,{"wb-ui-event-emitting-button--squary":e.squary,"wb-ui-event-emitting-button--pressed":e.isPressed,"wb-ui-event-emitting-button--iconOnly":e.isIconOnly,"wb-ui-event-emitting-button--frameless":e.isFrameless,"wb-ui-event-emitting-button--disabled":e.disabled}]]),href:e.href,tabindex:e.tabindex,role:e.href?"link":"button","aria-disabled":e.disabled?"true":null,title:e.message,target:e.opensInNewTab?"_blank":null,rel:e.opensInNewTab?"noreferrer noopener":null,onClick:t[0]||(t[0]=(...t)=>e.click&&e.click(...t)),onKeydown:[t[1]||(t[1]=(0,n.withKeys)(((...t)=>e.handleEnterPress&&e.handleEnterPress(...t)),["enter"])),t[2]||(t[2]=(0,n.withKeys)(((...t)=>e.handleSpacePress&&e.handleSpacePress(...t)),["space"]))],onKeyup:[t[3]||(t[3]=(0,n.withKeys)(((...t)=>e.unpress&&e.unpress(...t)),["enter"])),t[4]||(t[4]=(0,n.withKeys)(((...t)=>e.unpress&&e.unpress(...t)),["space"]))]},[(0,n.createElementVNode)("span",d,(0,n.toDisplayString)(e.message),1)],42,p)}]]);const b={class:"wb-ui-icon-message-box__content"},_=["error","warning","notice"];var S,O,w=(0,n.defineComponent)({name:"IconMessageBox",props:{type:{type:String,required:!0,validator:e=>_.includes(e)},inline:{type:Boolean,required:!1,default:!1}},compatConfig:{MODE:3}}),T=(0,E.Z)(w,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["wb-ui-icon-message-box",["wb-ui-icon-message-box--"+e.type,{"wb-ui-icon-message-box--block":!e.inline}]])},[(0,n.createElementVNode)("div",b,[(0,n.renderSlot)(e.$slots,"default")])],2)}]]),R=(0,n.defineComponent)({name:"WarningAnonymousEdit",emits:["proceed"],components:{EventEmittingButton:v,IconMessageBox:T},props:{loginUrl:{type:String,required:!0}},methods:{proceed(){this.$emit("proceed")}},compatConfig:{MODE:3}}),A=(0,E.Z)(R,[["render",function(e,t,r,o,i,s){const p=(0,n.resolveComponent)("IconMessageBox"),d=(0,n.resolveComponent)("EventEmittingButton");return(0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createElementVNode)("h2",c,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.ANONYMOUS_EDIT_WARNING_HEADING)),1),(0,n.createVNode)(p,{class:"wb-db-warning-anonymous-edit__message",type:"warning"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",{class:"wb-db-warning-anonymous-edit__message-text",innerHTML:e.$messages.get(e.$messages.KEYS.ANONYMOUS_EDIT_WARNING_MESSAGE)},null,8,u)]),void 0,!0),_:1}),(0,n.createElementVNode)("div",l,[(0,n.createVNode)(d,{class:"wb-db-warning-anonymous-edit__proceed",type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.ANONYMOUS_EDIT_WARNING_PROCEED),onClick:e.proceed},null,8,["message","onClick"]),(0,n.createVNode)(d,{class:"wb-db-warning-anonymous-edit__login",type:"neutral",size:"M",message:e.$messages.getText(e.$messages.KEYS.ANONYMOUS_EDIT_WARNING_LOGIN),href:e.loginUrl,"prevent-default":!1},null,8,["message","href"])])])}]]),k=r(5082);!function(e){e.saved="saved",e.cancel="cancel",e.reload="reload"}(S||(S={})),function(e){e.relaunch="relaunch"}(O||(O={}));var I,N,P=(0,k.Z)((0,k.Z)({},S),O),C=r(8534),D=r(2482);r(1703);class x extends Error{constructor(e){super(e[0].code),(0,D.Z)(this,"errors",void 0),this.errors=e}}class M extends Error{constructor(e){super("Saving failed."),(0,D.Z)(this,"errors",void 0),this.errors=e}}!function(e){e.INITIALIZING="initializing",e.READY="ready",e.SAVING="saving",e.SAVED="saved"}(I||(I={})),function(e){e.ERROR="error"}(N||(N={}));var L,B=(0,k.Z)((0,k.Z)({},I),N);class j{constructor(e,t,r){(0,D.Z)(this,"entityId",void 0),(0,D.Z)(this,"propertyId",void 0),(0,D.Z)(this,"index",void 0),this.entityId=e,this.propertyId=t,this.index=r}resolveStatementGroup(e){var t,r;return null!==(t=null==e||null===(r=e[this.entityId])||void 0===r?void 0:r[this.propertyId])&&void 0!==t?t:null}resolveStatement(e){var t,r;return null!==(t=null===(r=this.resolveStatementGroup(e))||void 0===r?void 0:r[this.index])&&void 0!==t?t:null}resolveSnakInStatement(e){var t,r;return null!==(t=null===(r=this.resolveStatement(e))||void 0===r?void 0:r.mainsnak)&&void 0!==t?t:null}}function U(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==r.g?r.g:{}}!function(e){e.INITIALIZATION_ERROR="INITIALIZATION_ERROR",e.APPLICATION_LOGIC_ERROR="APPLICATION_LOGIC_ERROR",e.INVALID_ENTITY_STATE_ERROR="INVALID_ENTITY_STATE_ERROR",e.UNSUPPORTED_AMBIGUOUS_STATEMENT="UNSUPPORTED_AMBIGUOUS_STATEMENT",e.UNSUPPORTED_DEPRECATED_STATEMENT="UNSUPPORTED_DEPRECATED_STATEMENT",e.UNSUPPORTED_SNAK_TYPE="UNSUPPORTED_SNAK_TYPE",e.UNSUPPORTED_DATATYPE="UNSUPPORTED_DATATYPE",e.UNSUPPORTED_DATAVALUE_TYPE="UNSUPPORTED_DATAVALUE_TYPE",e.SAVING_FAILED="SAVING_FAILED",e.ASSERT_ANON_FAILED="ASSERT_ANON_FAILED",e.ASSERT_USER_FAILED="ASSERT_USER_FAILED",e.ASSERT_NAMED_USER_FAILED="ASSERT_NAMED_USER_FAILED",e.EDIT_CONFLICT="EDIT_CONFLICT",e.BAD_TAGS="BAD_TAGS",e.NO_SUCH_REVID="NO_SUCH_REVID",e.CENTRALAUTH_BADTOKEN="CENTRALAUTH_BADTOKEN"}(L||(L={}));const $="function"==typeof Proxy;class V{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const r={};if(e.settings)for(const i in e.settings){const t=e.settings[i];r[i]=t.defaultValue}const n="__vue-devtools-plugin-settings__"+e.id;let o=Object.assign({},r);try{const e=localStorage.getItem(n),t=JSON.parse(e);Object.assign(o,t)}catch(e){}this.fallbacks={getSettings:()=>o,setSettings(e){try{localStorage.setItem(n,JSON.stringify(e))}catch(e){}o=e}},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((r=>{this.targetQueue.push({method:t,args:e,resolve:r})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function G(e,t){const r=U(),n=U().__VUE_DEVTOOLS_GLOBAL_HOOK__,o=$&&e.enableEarlyProxy;if(!n||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const i=o?new V(e,n):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:i}),i&&t(i.proxiedTarget)}else n.emit("devtools-plugin:setup",e,t)}function F(e,t){Object.keys(e).forEach((function(r){return t(e[r],r)}))}function H(e){return null!==e&&"object"==typeof e}function Y(e,t,r){return t.indexOf(e)<0&&(r&&r.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function K(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var r=e.state;Z(e,r,[],e._modules.root,!0),W(e,r,t)}function W(e,t,r){var o=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,s={};F(i,(function(t,r){s[r]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,r,{get:function(){return s[r]()},enumerable:!0})})),e._state=(0,n.reactive)({data:t}),e.strict&&function(e){(0,n.watch)((function(){return e._state.data}),(function(){}),{deep:!0,flush:"sync"})}(e),o&&r&&e._withCommit((function(){o.data=null}))}function Z(e,t,r,n,o){var i=!r.length,s=e._modules.getNamespace(r);if(n.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=n),!i&&!o){var a=z(t,r.slice(0,-1)),c=r[r.length-1];e._withCommit((function(){a[c]=n.state}))}var u=n.context=function(e,t,r){var n=""===t,o={dispatch:n?e.dispatch:function(r,n,o){var i=J(r,n,o),s=i.payload,a=i.options,c=i.type;return a&&a.root||(c=t+c),e.dispatch(c,s)},commit:n?e.commit:function(r,n,o){var i=J(r,n,o),s=i.payload,a=i.options,c=i.type;a&&a.root||(c=t+c),e.commit(c,s,a)}};return Object.defineProperties(o,{getters:{get:n?function(){return e.getters}:function(){return q(e,t)}},state:{get:function(){return z(e.state,r)}}}),o}(e,s,r);n.forEachMutation((function(t,r){!function(e,t,r,n){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){r.call(e,n.state,t)}))}(e,s+r,t,u)})),n.forEachAction((function(t,r){var n=t.root?r:s+r,o=t.handler||t;!function(e,t,r,n){(e._actions[t]||(e._actions[t]=[])).push((function(t){var o,i=r.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},t);return(o=i)&&"function"==typeof o.then||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}(e,n,o,u)})),n.forEachGetter((function(t,r){!function(e,t,r,n){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return r(n.state,n.getters,e.state,e.getters)})}(e,s+r,t,u)})),n.forEachChild((function(n,i){Z(e,t,r.concat(i),n,o)}))}function q(e,t){if(!e._makeLocalGettersCache[t]){var r={},n=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,n)===t){var i=o.slice(n);Object.defineProperty(r,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=r}return e._makeLocalGettersCache[t]}function z(e,t){return t.reduce((function(e,t){return e[t]}),e)}function J(e,t,r){return H(e)&&e.type&&(r=t,t=e,e=e.type),{type:e,payload:t,options:r}}var Q=0;function X(e,t){G({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(r){r.addTimelineLayer({id:"vuex:mutations",label:"Vuex Mutations",color:ee}),r.addTimelineLayer({id:"vuex:actions",label:"Vuex Actions",color:ee}),r.addInspector({id:"vuex",label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree((function(r){if(r.app===e&&"vuex"===r.inspectorId)if(r.filter){var n=[];!function e(t,r,n,o){o.includes(n)&&t.push({id:o||"root",label:o.endsWith("/")?o.slice(0,o.length-1):o||"Root",tags:r.namespaced?[te]:[]}),Object.keys(r._children).forEach((function(i){e(t,r._children[i],n,o+i+"/")}))}(n,t._modules.root,r.filter,""),r.rootNodes=n}else r.rootNodes=[ne(t._modules.root,"")]})),r.on.getInspectorState((function(r){if(r.app===e&&"vuex"===r.inspectorId){var n=r.nodeId;q(t,n),r.state=function(e,t,r){t="root"===r?t:t[r];var n=Object.keys(t),o={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(n.length){var i=function(e){var t={};return Object.keys(e).forEach((function(r){var n=r.split("/");if(n.length>1){var o=t,i=n.pop();n.forEach((function(e){o[e]||(o[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),o=o[e]._custom.value})),o[i]=oe((function(){return e[r]}))}else t[r]=oe((function(){return e[r]}))})),t}(t);o.getters=Object.keys(i).map((function(e){return{key:e.endsWith("/")?re(e):e,editable:!1,value:oe((function(){return i[e]}))}}))}return o}((o=t._modules,(s=(i=n).split("/").filter((function(e){return e}))).reduce((function(e,t,r){var n=e[t];if(!n)throw new Error('Missing module "'+t+'" for path "'+i+'".');return r===s.length-1?n:n._children}),"root"===i?o:o.root._children)),"root"===n?t.getters:t._makeLocalGettersCache,n)}var o,i,s})),r.on.editInspectorState((function(r){if(r.app===e&&"vuex"===r.inspectorId){var n=r.nodeId,o=r.path;"root"!==n&&(o=n.split("/").filter(Boolean).concat(o)),t._withCommit((function(){r.set(t._state.data,o,r.state.value)}))}})),t.subscribe((function(e,t){var n={};e.payload&&(n.payload=e.payload),n.state=t,r.notifyComponentUpdate(),r.sendInspectorTree("vuex"),r.sendInspectorState("vuex"),r.addTimelineEvent({layerId:"vuex:mutations",event:{time:Date.now(),title:e.type,data:n}})})),t.subscribeAction({before:function(e,t){var n={};e.payload&&(n.payload=e.payload),e._id=Q++,e._time=Date.now(),n.state=t,r.addTimelineEvent({layerId:"vuex:actions",event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:n}})},after:function(e,t){var n={},o=Date.now()-e._time;n.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},e.payload&&(n.payload=e.payload),n.state=t,r.addTimelineEvent({layerId:"vuex:actions",event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:n}})}})}))}var ee=8702998,te={label:"namespaced",textColor:16777215,backgroundColor:6710886};function re(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function ne(e,t){return{id:t||"root",label:re(t),tags:e.namespaced?[te]:[],children:Object.keys(e._children).map((function(r){return ne(e._children[r],t+r+"/")}))}}function oe(e){try{return e()}catch(e){return e}}var ie=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=("function"==typeof r?r():r)||{}},se={namespaced:{configurable:!0}};se.namespaced.get=function(){return!!this._rawModule.namespaced},ie.prototype.addChild=function(e,t){this._children[e]=t},ie.prototype.removeChild=function(e){delete this._children[e]},ie.prototype.getChild=function(e){return this._children[e]},ie.prototype.hasChild=function(e){return e in this._children},ie.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},ie.prototype.forEachChild=function(e){F(this._children,e)},ie.prototype.forEachGetter=function(e){this._rawModule.getters&&F(this._rawModule.getters,e)},ie.prototype.forEachAction=function(e){this._rawModule.actions&&F(this._rawModule.actions,e)},ie.prototype.forEachMutation=function(e){this._rawModule.mutations&&F(this._rawModule.mutations,e)},Object.defineProperties(ie.prototype,se);var ae=function(e){this.register([],e,!1)};ae.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},ae.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,r){return e+((t=t.getChild(r)).namespaced?r+"/":"")}),"")},ae.prototype.update=function(e){!function e(t,r,n){if(r.update(n),n.modules)for(var o in n.modules){if(!r.getChild(o))return;e(t.concat(o),r.getChild(o),n.modules[o])}}([],this.root,e)},ae.prototype.register=function(e,t,r){var n=this;void 0===r&&(r=!0);var o=new ie(t,r);0===e.length?this.root=o:this.get(e.slice(0,-1)).addChild(e[e.length-1],o),t.modules&&F(t.modules,(function(t,o){n.register(e.concat(o),t,r)}))},ae.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1],n=t.getChild(r);n&&n.runtime&&t.removeChild(r)},ae.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1];return!!t&&t.hasChild(r)};var ce=function(e){var t=this;void 0===e&&(e={});var r=e.plugins;void 0===r&&(r=[]);var n=e.strict;void 0===n&&(n=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ae(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var i=this,s=this.dispatch,a=this.commit;this.dispatch=function(e,t){return s.call(i,e,t)},this.commit=function(e,t,r){return a.call(i,e,t,r)},this.strict=n;var c=this._modules.root.state;Z(this,c,[],this._modules.root),W(this,c),r.forEach((function(e){return e(t)}))},ue={state:{configurable:!0}};function le(e){return function(e){return Array.isArray(e)||H(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function pe(e){return function(t,r){return"string"!=typeof t?(r=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,r)}}function de(e,t,r){return e._modulesNamespaceMap[r]}ce.prototype.install=function(e,t){e.provide(t||"store",this),e.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&X(e,this)},ue.state.get=function(){return this._state.data},ue.state.set=function(e){},ce.prototype.commit=function(e,t,r){var n=this,o=J(e,t,r),i=o.type,s=o.payload,a=(o.options,{type:i,payload:s}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,n.state)})))},ce.prototype.dispatch=function(e,t){var r=this,n=J(e,t),o=n.type,i=n.payload,s={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,r.state)}))}catch(e){}var c=a.length>1?Promise.all(a.map((function(e){return e(i)}))):a[0](i);return new Promise((function(e,t){c.then((function(t){try{r._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,r.state)}))}catch(e){}e(t)}),(function(e){try{r._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,r.state,e)}))}catch(e){}t(e)}))}))}},ce.prototype.subscribe=function(e,t){return Y(e,this._subscribers,t)},ce.prototype.subscribeAction=function(e,t){return Y("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},ce.prototype.watch=function(e,t,r){var o=this;return(0,n.watch)((function(){return e(o.state,o.getters)}),t,Object.assign({},r))},ce.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},ce.prototype.registerModule=function(e,t,r){void 0===r&&(r={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),Z(this,this.state,e,this._modules.get(e),r.preserveState),W(this,this.state)},ce.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete z(t.state,e.slice(0,-1))[e[e.length-1]]})),K(this)},ce.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},ce.prototype.hotUpdate=function(e){this._modules.update(e),K(this,!0)},ce.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(ce.prototype,ue),pe((function(e,t){var r={};return le(t).forEach((function(t){var n=t.key,o=t.val;r[n]=function(){var t=this.$store.state,r=this.$store.getters;if(e){var n=de(this.$store,"mapState",e);if(!n)return;t=n.context.state,r=n.context.getters}return"function"==typeof o?o.call(this,t,r):t[o]},r[n].vuex=!0})),r})),pe((function(e,t){var r={};return le(t).forEach((function(t){var n=t.key,o=t.val;r[n]=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=this.$store.commit;if(e){var i=de(this.$store,"mapMutations",e);if(!i)return;n=i.context.commit}return"function"==typeof o?o.apply(this,[n].concat(t)):n.apply(this.$store,[o].concat(t))}})),r})),pe((function(e,t){var r={};return le(t).forEach((function(t){var n=t.key,o=t.val;o=e+o,r[n]=function(){if(!e||de(this.$store,"mapGetters",e))return this.$store.getters[o]},r[n].vuex=!0})),r})),pe((function(e,t){var r={};return le(t).forEach((function(t){var n=t.key,o=t.val;r[n]=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=this.$store.dispatch;if(e){var i=de(this.$store,"mapActions",e);if(!i)return;n=i.context.dispatch}return"function"==typeof o?o.apply(this,[n].concat(t)):n.apply(this.$store,[o].concat(t))}})),r}));var fe=function(){return(fe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ge=function(){function e(){}return e.prototype.$init=function(e){},Object.defineProperty(e.prototype,"state",{get:function(){return this.__ctx__.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getters",{get:function(){return this.__ctx__.getters},enumerable:!1,configurable:!0}),e}(),me=function(){function e(){}return Object.defineProperty(e.prototype,"state",{get:function(){return this.__ctx__.state},enumerable:!1,configurable:!0}),e}(),ye=function(){function e(){}return e.prototype.$init=function(e){},Object.defineProperty(e.prototype,"state",{get:function(){return this.__ctx__.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getters",{get:function(){return this.__ctx__.getters},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commit",{get:function(){return this.__ctx__.commit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dispatch",{get:function(){return this.__ctx__.dispatch},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actions",{get:function(){return this.__ctx__.actions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mutations",{get:function(){return this.__ctx__.mutations},enumerable:!1,configurable:!0}),e}(),he=function(){};function Ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){return e(t)}))}}function ve(e,t){return e.reduce((function(e,t){return e[t]}),t)}function be(e,t){var r={};return Object.keys(e).forEach((function(n){r[n]=t(e[n],n)})),r}function _e(e,t){if(!e)throw new Error("[vuex-smart-module] "+t)}function Se(e){console.warn("[vuex-smart-module] DEPRECATED: "+e)}function Oe(e,t,r,n){void 0===n&&(n={constructor:!0}),e.constructor!==t&&(Object.getOwnPropertyNames(e).forEach((function(t){if(!n[t]){n[t]=!0;var o=Object.getOwnPropertyDescriptor(e,t);r(o,t)}})),Oe(Object.getPrototypeOf(e),t,r,n))}function we(e,t){var r=[];return Oe(e,t,(function(e,t){"function"==typeof e.value&&r.push(t)})),r}function Te(e){var t="The module need to be registered a store before using `Module#context` or `createMapper`";return{get path(){return _e(void 0!==e.path,t),e.path},get namespace(){return _e(void 0!==e.namespace,t),e.namespace}}}function Re(e,t,r,n,o){return"string"==typeof r?e(t+r,n,o):e(fe(fe({},r),{type:t+r.type}),n)}function Ae(e,t,r,n,o){Re(e.commit,t,r,n,o)}function ke(e,t,r,n,o){return Re(e.dispatch,t,r,n,o)}function Ie(e,t){var r=t.length,n={};return Object.keys(e.getters).forEach((function(o){var i=t===o.slice(0,r),s=o.slice(r);i&&s&&Object.defineProperty(n,s,{get:function(){return e.getters[o]},enumerable:!0})})),n}var Ne=function(){function e(e,t,r){var n=this;this.pos=e,this.store=t,this.moduleOptions=r,this.commit=function(e,t,r){return Ae(n.store,n.pos.namespace,e,t,r)},this.dispatch=function(e,t,r){return ke(n.store,n.pos.namespace,e,t,r)}}return Object.defineProperty(e.prototype,"mutations",{get:function(){var e=this;if(this.__mutations__)return this.__mutations__;var t={},r=this.moduleOptions.mutations;return r&&we(r.prototype,me).forEach((function(r){Object.defineProperty(t,r,{value:function(t){return e.commit(r,t)},enumerable:!0})})),this.__mutations__=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actions",{get:function(){var e=this;if(this.__actions__)return this.__actions__;var t={},r=this.moduleOptions.actions;return r&&we(r.prototype,ye).forEach((function(r){Object.defineProperty(t,r,{value:function(t){return e.dispatch(r,t)},enumerable:!0})})),this.__actions__=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return ve(this.pos.path,this.store.state)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getters",{get:function(){return Ie(this.store,this.pos.namespace)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modules",{get:function(){var t=this,r={},n=this.moduleOptions.modules;return n?(Object.keys(n).forEach((function(o){var i=n[o];Object.defineProperty(r,o,{get:function(){return new e(Te(i),t.store,i.options)}})})),r):r},enumerable:!1,configurable:!0}),e}(),Pe=function(){function e(e){this.pos=e}return e.prototype.mapState=function(e){var t=this.pos;return Ce(e,(function(e){return function(){var r=ve(t.path,this.$store.state);if("function"==typeof e){var n=Ie(this.$store,t.namespace);return e.call(this,r,n)}return r[e]}}))},e.prototype.mapGetters=function(e){var t=this.pos;return Ce(e,(function(e){function r(){return this.$store.getters[t.namespace+e]}return r.vuex=!0,r}))},e.prototype.mapMutations=function(e){var t=this.pos;return Ce(e,(function(e){return function(){for(var r=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=function(e,n){return Ae(r.$store,t.namespace,e,n)};return"function"==typeof e?e.apply(this,[i].concat(n)):i(e,n[0])}}))},e.prototype.mapActions=function(e){var t=this.pos;return Ce(e,(function(e){return function(){for(var r=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=function(e,n){return ke(r.$store,t.namespace,e,n)};return"function"==typeof e?e.apply(this,[i].concat(n)):i(e,n[0])}}))},e}();function Ce(e,t){return be(Array.isArray(e)?e.reduce((function(e,t){return e[t]=t,e}),{}):e,t)}var De=function(){function e(e){void 0===e&&(e={}),this.options=e,this.mapper=new Pe(Te(this))}return e.prototype.clone=function(){var t=fe({},this.options);return t.modules&&(t.modules=be(t.modules,(function(e){return e.clone()}))),new e(t)},e.prototype.context=function(e){return new Ne(Te(this),e,this.options)},e.prototype.mapState=function(e){return Se("`Module#mapState` is deprecated. Use `createMapper` instead."),this.mapper.mapState(e)},e.prototype.mapGetters=function(e){return Se("`Module#mapGetters` is deprecated. Use `createMapper` instead."),this.mapper.mapGetters(e)},e.prototype.mapMutations=function(e){return Se("`Module#mapMutations` is deprecated. Use `createMapper` instead."),this.mapper.mapMutations(e)},e.prototype.mapActions=function(e){return Se("`Module#mapActions` is deprecated. Use `createMapper` instead."),this.mapper.mapActions(e)},e.prototype.getStoreOptions=function(){var e=this.create([],""),t=e.options,r=e.injectStore;return t.actions||(t.actions={}),t.actions["vuex-smart-module/injectStore"]=function(){r(this)},fe(fe({},t),{plugins:[function(e){e.dispatch("vuex-smart-module/injectStore");var t=e.hotUpdate;e.hotUpdate=function(r){t.call(e,r),e.dispatch("vuex-smart-module/injectStore")}}]})},e.prototype.create=function(e,t){_e(!this.path||this.path.join(".")===e.join("."),"You are reusing one module on multiple places in the same store.\nClone it by `module.clone()` method to make sure every module in the store is unique."),this.path=e,this.namespace=t;var r=this.options,n=r.namespaced,o=void 0===n||n,i=r.state,s=r.getters,a=r.mutations,c=r.actions,u=r.modules,l=u?Object.keys(u).reduce((function(r,n){var i,s=u[n],a=null===(i=s.options.namespaced)||void 0===i||i?n+"/":"",c=s.create(e.concat(n),o?t+a:a);return r.options[n]=c.options,r.injectStore=Ee(r.injectStore,c.injectStore),r}),{options:{},injectStore:he}):void 0,p=s&&function(e,t){var r=new e,n={};return Oe(e.prototype,ge,(function(e,t){if("function"==typeof e.value||e.get){var o=e.value,i=e.get;n[t]=function(){var e=r;return i?i.call(e):o?o.bind(e):void 0}}}),{constructor:!0,$init:!0}),{getters:n,injectStore:function(e){var n=t.context(e);Object.defineProperty(r,"__ctx__",{get:function(){return n},configurable:!0}),r.$init(e)}}}(s,this),d=a&&function(e,t){var r=new e,n={};return Oe(e.prototype,me,(function(e,t){"function"==typeof e.value&&(n[t]=function(e,n){var o=r;return r[t].call(o,n)})})),{mutations:n,injectStore:function(e){var n=t.context(e);Object.defineProperty(r,"__ctx__",{get:function(){return n},configurable:!0})}}}(a,this),f=c&&function(e,t){var r=new e,n={};return Oe(e.prototype,ye,(function(e,t){"function"==typeof e.value&&(n[t]=function(e,n){var o=r;return r[t].call(o,n)})}),{constructor:!0,$init:!0}),{actions:n,injectStore:function(e){var n=t.context(e);Object.defineProperty(r,"__ctx__",{get:function(){return n},configurable:!0}),r.$init(e)}}}(c,this);return{options:{namespaced:o,state:function(){return i?new i:{}},getters:p&&p.getters,mutations:d&&d.mutations,actions:f&&f.actions,modules:l&&l.options},injectStore:Ee(l?l.injectStore:he,p?p.injectStore:he,d?d.injectStore:he,f?f.injectStore:he)}},e}();class xe{constructor(){(0,D.Z)(this,"id",""),(0,D.Z)(this,"baseRevision",0)}}class Me{constructor(e,t){(0,D.Z)(this,"id",void 0),(0,D.Z)(this,"statements",void 0),this.id=e,this.statements=t}}class Le{constructor(e,t){(0,D.Z)(this,"entity",void 0),(0,D.Z)(this,"revisionId",void 0),this.entity=e,this.revisionId=t}}function Be(e){return JSON.parse(JSON.stringify(e))}r(8862);const je=new De({state:class{},mutations:class extends me{setStatements(e){this.state[e.entityId]=Be(e.statements)}reset(){for(const e of Object.getOwnPropertyNames(this.state))delete this.state[e]}},actions:class extends ye{initStatements(e){return this.commit("setStatements",{entityId:e.entityId,statements:e.statements}),Promise.resolve()}},getters:class extends ge{get containsEntity(){return e=>void 0!==this.state[e]}get propertyExists(){return e=>null!==e.resolveStatementGroup(this.state)}get isStatementGroupAmbiguous(){return e=>{const t=e.resolveStatementGroup(this.state);return null!==t&&t.length>1}}get rank(){return e=>{var t;const r=e.resolveStatement(this.state);return null!==(t=null==r?void 0:r.rank)&&void 0!==t?t:null}}get dataValue(){return e=>{var t;const r=e.resolveSnakInStatement(this.state);return null!==(t=null==r?void 0:r.datavalue)&&void 0!==t?t:null}}get snakType(){return e=>{var t;const r=e.resolveSnakInStatement(this.state);return null!==(t=null==r?void 0:r.snaktype)&&void 0!==t?t:null}}get dataType(){return e=>{var t;const r=e.resolveSnakInStatement(this.state);return null!==(t=null==r?void 0:r.datatype)&&void 0!==t?t:null}}get dataValueType(){return e=>{var t,r;const n=e.resolveSnakInStatement(this.state);return null!==(t=null==n||null===(r=n.datavalue)||void 0===r?void 0:r.type)&&void 0!==t?t:null}}}}),Ue=new De({state:xe,mutations:class extends me{updateEntity(e){this.state.id=e.id}updateRevision(e){this.state.baseRevision=e}reset(){Object.assign(this.state,new xe)}},actions:class extends ye{constructor(...e){super(...e),(0,D.Z)(this,"store",void 0),(0,D.Z)(this,"statementsModule",void 0)}$init(e){this.store=e,this.statementsModule=je.context(e)}entityInit(e){return this.store.$services.get("readingEntityRepository").getEntity(e.entity).then((e=>this.dispatch("entityWrite",e)))}entitySave(e){const t=this.state.id,r=new Me(t,e.statements),n=new Le(new Me(t,this.statementsModule.state[t]),this.state.baseRevision);return this.store.$services.get("writingEntityRepository").saveEntity(r,n,e.assertUser).then((e=>this.dispatch("entityWrite",e)))}entityWrite(e){return this.commit("updateRevision",e.revisionId),this.commit("updateEntity",e.entity),this.statementsModule.dispatch("initStatements",{entityId:e.entity.id,statements:e.entity.statements})}}});var $e;!function(e){e.REPLACE="replace",e.UPDATE="update"}($e||($e={}));var Ve,Ge=$e;!function(e){e.NO_SNAK_FOUND="snak not found",e.NO_STATEMENT_GROUP_FOUND="statement group not found",e.INCONSISTENT_PAYLOAD_TYPE="targetvalue's datavalue type is different from the snak's datavalue type in the state"}(Ve||(Ve={}));var Fe=Ve;class He{apply(e,t,r){const n=t.resolveSnakInStatement(r);if(null===n)throw new Error(Fe.NO_SNAK_FOUND);if(void 0!==n.datavalue&&e.type!==n.datavalue.type)throw new Error(Fe.INCONSISTENT_PAYLOAD_TYPE);return n.snaktype="value",n.datavalue=e,r}}class Ye{apply(e,t,r){const n=t.resolveStatementGroup(r),o=t.resolveStatement(r);if(null===n)throw new Error(Fe.NO_STATEMENT_GROUP_FOUND);if(null===o)throw new Error(Fe.NO_SNAK_FOUND);const i=o.mainsnak;if(void 0!==i.datavalue&&e.type!==i.datavalue.type)throw new Error(Fe.INCONSISTENT_PAYLOAD_TYPE);o.rank="normal";const s=this.buildNewPreferredStatement(i,e);return n.push(s),r}buildNewPreferredStatement(e,t){return{rank:"preferred",type:"statement",mainsnak:{snaktype:"value",property:e.property,datatype:e.datatype,datavalue:t}}}}function Ke(e){switch(e){case Ge.REPLACE:return new He;case Ge.UPDATE:return new Ye}}var We=r(251),Ze=r.n(We),qe=r(4785);class ze{constructor(){(0,D.Z)(this,"applicationErrors",[]),(0,D.Z)(this,"applicationStatus",I.INITIALIZING),(0,D.Z)(this,"editDecision",null),(0,D.Z)(this,"targetValue",null),(0,D.Z)(this,"renderedTargetReferences",[]),(0,D.Z)(this,"editFlow",""),(0,D.Z)(this,"entityTitle",""),(0,D.Z)(this,"originalHref",""),(0,D.Z)(this,"pageTitle",""),(0,D.Z)(this,"targetLabel",null),(0,D.Z)(this,"targetProperty",""),(0,D.Z)(this,"pageUrl",""),(0,D.Z)(this,"showWarningAnonymousEdit",!1),(0,D.Z)(this,"assertUserWhenSaving",!0),(0,D.Z)(this,"config",{usePublish:null,issueReportingLink:null,stringMaxLength:null,dataRightsText:null,dataRightsUrl:null,termsOfUseUrl:null})}}class Je extends me{setPropertyPointer(e){this.state.targetProperty=e}setEditFlow(e){this.state.editFlow=e}setApplicationStatus(e){this.state.applicationStatus=e}setTargetLabel(e){this.state.targetLabel=e}setRenderedTargetReferences(e){this.state.renderedTargetReferences=e}addApplicationErrors(e){this.state.applicationErrors.push(...e)}clearApplicationErrors(){this.state.applicationErrors=[]}setEditDecision(e){this.state.editDecision=e}setTargetValue(e){this.state.targetValue=Be(e)}setEntityTitle(e){this.state.entityTitle=e}setPageTitle(e){this.state.pageTitle=e}setOriginalHref(e){this.state.originalHref=e}setPageUrl(e){this.state.pageUrl=e}setShowWarningAnonymousEdit(e){this.state.showWarningAnonymousEdit=e}setAssertUserWhenSaving(e){this.state.assertUserWhenSaving=e}setClientConfig(e){this.state.config=(0,k.Z)((0,k.Z)({},this.state.config),e)}setRepoConfig(e){var t;this.state.config=(0,k.Z)((0,k.Z)({},this.state.config),{},{stringMaxLength:null===(t=e.dataTypeLimits)||void 0===t?void 0:t.string.maxLength,dataRightsText:e.dataRightsText,dataRightsUrl:e.dataRightsUrl,termsOfUseUrl:e.termsOfUseUrl})}reset(){Object.assign(this.state,new ze)}}function Qe(e){return t=>{t.subscribe((({type:t,payload:r})=>{(function(e,t){return e===Je.prototype.addApplicationErrors.name})(t)&&r.forEach((t=>e.trackError(t.type)))}))}}const Xe=new De({state:ze,getters:class extends ge{constructor(...e){super(...e),(0,D.Z)(this,"statementModule",void 0)}$init(e){this.statementModule=je.context(e)}get targetLabel(){var e;return null!==(e=this.state.targetLabel)&&void 0!==e?e:{language:"zxx",value:this.state.targetProperty}}get targetReferences(){try{var e;const t=this.state,r=t.entity.id;return null!==(e=t.statements[r][this.state.targetProperty][0].references)&&void 0!==e?e:[]}catch(e){return[]}}get isTargetValueModified(){if(this.state.applicationStatus===B.INITIALIZING)return!1;const e=this.state,t=e.entity.id;return!Ze()(this.state.targetValue,e.statements[t][this.state.targetProperty][0].mainsnak.datavalue,{strict:!0})}get canStartSaving(){return null!==this.state.editDecision&&this.getters.isTargetValueModified&&this.getters.applicationStatus===B.READY}get isGenericSavingError(){return this.state.applicationErrors.length>0&&this.state.applicationErrors.every((e=>[L.SAVING_FAILED,L.BAD_TAGS,L.NO_SUCH_REVID,L.ASSERT_NAMED_USER_FAILED].includes(e.type)))}get isAssertUserFailedError(){return 1===this.state.applicationErrors.length&&this.state.applicationErrors[0].type===L.ASSERT_USER_FAILED}get isEditConflictError(){return 1===this.state.applicationErrors.length&&this.state.applicationErrors[0].type===L.EDIT_CONFLICT}get canGoToPreviousState(){return this.getters.isGenericSavingError||this.getters.isAssertUserFailedError}get applicationStatus(){return this.state.applicationErrors.length>0?B.ERROR:this.state.applicationStatus}get reportIssueTemplateBody(){const e=this.state.pageUrl,t=this.state.applicationErrors.map((e=>(0,qe.serializeError)(e))),r=JSON.stringify(t,null,4);return["The error happened on: "+e,"Item title: "+this.state.entityTitle,"Property: "+this.state.targetProperty,"Error message: "+this.state.applicationErrors[0].type,"Approximate time of request: "+(new Date).toISOString(),"Debug information:","```",r,"```"].join("\n")}get issueReportingLinkConfig(){const e=this.state.config;if(null===e.issueReportingLink)throw new Error("not correctly initialized");return e.issueReportingLink}get config(){return this.state.config}},mutations:Je,actions:class extends ye{constructor(...e){super(...e),(0,D.Z)(this,"store",void 0),(0,D.Z)(this,"entityModule",void 0),(0,D.Z)(this,"statementModule",void 0),(0,D.Z)(this,"statementMutationFactory",void 0)}$init(e){this.store=e,this.entityModule=Ue.context(e),this.statementModule=je.context(e),this.statementMutationFactory=Ke}relaunchBridge(e){return this.commit("reset"),this.entityModule.commit("reset"),this.statementModule.commit("reset"),this.dispatch("initBridge",e)}initBridge(e){this.commit("setEditFlow",e.editFlow),this.commit("setPropertyPointer",e.propertyId),this.commit("setEntityTitle",e.entityTitle),this.commit("setOriginalHref",e.originalHref),this.commit("setPageTitle",e.pageTitle),this.commit("setPageUrl",e.pageUrl),this.commit("setClientConfig",e.client),this.commit("setShowWarningAnonymousEdit",null===e.userName),this.dispatch("requestAndSetTargetLabel",e.propertyId);const t=e=>e instanceof x&&e.errors.some((e=>"badtoken"===e.code&&"apierror-centralauth-badtoken"===e.params[0])),r=()=>Promise.all([this.store.$services.get("wikibaseRepoConfigRepository").getRepoConfiguration(),this.store.$services.get("editAuthorizationChecker").canUseBridgeForItemAndPage(e.entityTitle,e.pageTitle),this.store.$services.get("propertyDatatypeRepository").getDataType(e.propertyId),this.entityModule.dispatch("entityInit",{entity:e.entityId})]);return r().catch((e=>{if(!t(e))throw e;return r().then((e=>(this.store.$services.get("tracker").trackRecoveredError(L.CENTRALAUTH_BADTOKEN),e)))})).then((e=>this.dispatch("initBridgeWithRemoteData",{results:e})),(e=>{const r=t(e)?L.CENTRALAUTH_BADTOKEN:L.INITIALIZATION_ERROR;throw this.commit("addApplicationErrors",[{type:r,info:e}]),e})).then((()=>{this.commit("setApplicationStatus",B.READY)}))}initBridgeWithRemoteData({results:[e,t,r,n]}){var o=this;return(0,C.Z)((function*(){if(!t.length){o.store.$services.get("tracker").trackPropertyDatatype(r);try{yield o.dispatch("renderReferences")}catch(e){o.store.$services.get("tracker").trackError("render_references")}return o.commit("setRepoConfig",e),o.dispatch("postEntityLoad")}o.commit("addApplicationErrors",t)}))()}renderReferences(){var e=this;return(0,C.Z)((function*(){const t=yield e.store.$services.get("referencesRenderingRepository").getRenderedReferences(e.getters.targetReferences);e.commit("setRenderedTargetReferences",t)}))()}postEntityLoad(){var e=this;return(0,C.Z)((function*(){const t=e.state,r=new j(t.entity.id,t.targetProperty,0);yield e.dispatch("validateEntityState",r),e.getters.applicationStatus!==B.ERROR&&e.commit("setTargetValue",r.resolveSnakInStatement(t.statements).datavalue)}))()}requestAndSetTargetLabel(e){return this.store.$services.get("entityLabelRepository").getLabel(e).then((e=>{this.commit("setTargetLabel",e)}),(e=>{}))}validateEntityState(e){return this.statementModule.getters.propertyExists(e)?this.dispatch("validateBridgeApplicability",e):(this.commit("addApplicationErrors",[{type:L.INVALID_ENTITY_STATE_ERROR}]),Promise.resolve())}validateBridgeApplicability(e){if(this.state.applicationStatus===B.SAVED)return Promise.resolve();if(this.statementModule.getters.isStatementGroupAmbiguous(e))return this.dispatch("addError",[{type:L.UNSUPPORTED_AMBIGUOUS_STATEMENT}]);if("deprecated"===this.statementModule.getters.rank(e))return this.dispatch("addError",[{type:L.UNSUPPORTED_DEPRECATED_STATEMENT}]);const t=this.statementModule.getters.snakType(e);if(null===t)throw new Error("If snak type is missing, there should have been an error earlier");if("value"!==t){const e={type:L.UNSUPPORTED_SNAK_TYPE,info:{snakType:t}};return this.dispatch("addError",[e])}const r=this.statementModule.getters.dataType(e);if(null===r)throw new Error("If snak is missing, there should have been an error earlier");if("string"!==r){const e={type:L.UNSUPPORTED_DATATYPE,info:{unsupportedDatatype:r}};return this.dispatch("addError",[e])}return"string"!==this.statementModule.getters.dataValueType(e)?this.dispatch("addError",[{type:L.UNSUPPORTED_DATAVALUE_TYPE}]):Promise.resolve()}setTargetValue(e){return this.state.applicationStatus!==B.READY?(this.commit("addApplicationErrors",[{type:L.APPLICATION_LOGIC_ERROR,info:{stack:(new Error).stack}}]),Promise.reject(null)):(this.commit("setTargetValue",e),Promise.resolve())}saveBridge(){var e=this;return(0,C.Z)((function*(){if(e.state.applicationStatus!==B.READY)return e.commit("addApplicationErrors",[{type:L.APPLICATION_LOGIC_ERROR,info:{stack:(new Error).stack}}]),Promise.reject(null);e.commit("setApplicationStatus",B.SAVING);const t=e.state,r=t.entity.id,n=new j(r,t.targetProperty,0);let o;try{o=e.statementMutationFactory(t.editDecision).apply(t.targetValue,n,Be(t.statements))}catch(t){throw e.commit("addApplicationErrors",[{type:L.APPLICATION_LOGIC_ERROR,info:t}]),t}return e.entityModule.dispatch("entitySave",{statements:o[r],assertUser:e.state.assertUserWhenSaving}).catch((t=>{throw t instanceof M&&t.errors.some((e=>e.type===L.EDIT_CONFLICT))&&e.dispatch("purgeTargetPage"),t instanceof M?e.commit("addApplicationErrors",t.errors):e.commit("addApplicationErrors",[{type:L.SAVING_FAILED,info:t}]),t})).then((()=>e.dispatch("purgeTargetPage"))).then((()=>(e.commit("setApplicationStatus",B.SAVED),e.dispatch("postEntityLoad"))))}))()}purgeTargetPage(){return this.store.$services.get("purgeTitles").purge([this.state.pageTitle]).catch((()=>{this.store.$services.get("tracker").trackError("purge")}))}retrySave(){var e=this;return(0,C.Z)((function*(){return yield e.dispatch("goBackFromErrorToReady"),e.dispatch("saveBridge")}))()}goBackFromErrorToReady(){return this.commit("clearApplicationErrors"),this.commit("setApplicationStatus",B.READY),Promise.resolve()}addError(e){return this.commit("addApplicationErrors",e),Promise.resolve()}setEditDecision(e){return this.commit("setEditDecision",e),Promise.resolve()}trackErrorsFallingBackToGenericView(){var e=this;return(0,C.Z)((function*(){for(const t of e.state.applicationErrors)e.store.$services.get("tracker").trackUnknownError(t.type)}))()}trackSavingErrorsFallingBackToGenericView(){var e=this;return(0,C.Z)((function*(){for(const t of e.state.applicationErrors)e.store.$services.get("tracker").trackSavingUnknownError(t.type)}))()}dismissWarningAnonymousEdit(){return this.commit("setShowWarningAnonymousEdit",!1),Promise.resolve()}stopAssertingUserWhenSaving(){return this.commit("setAssertUserWhenSaving",!1),Promise.resolve()}},modules:{entity:Ue,statements:je}});function et(e){const t=function(e,t){void 0===t&&(t={});var r=e.create([],""),n=r.options,o=r.injectStore;return new ce(fe(fe(fe({},n),t),{modules:fe(fe({},n.modules),t.modules),plugins:[o].concat(t.plugins||[])}))}(Xe,{strict:!1,plugins:[Qe(e.get("tracker"))]});return t.$services=e,t}var tt=(0,n.defineComponent)({computed:{rootModule(){return Xe.context(this.$store)}}});const rt={class:"wb-db-bridge"},nt={class:"wb-db-edit-decision"},ot={class:"wb-db-edit-decision__heading"},it=["innerHTML"],st=["innerHTML"],at={class:"wb-db-radio-group"};var ct=(0,n.defineComponent)({name:"RadioGroup",compatConfig:{MODE:3}}),ut=(0,E.Z)(ct,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",at,[(0,n.renderSlot)(e.$slots,"default")])}]]);const lt={class:"wb-ui-radio-input"},pt=["name","value","id","checked","disabled"],dt=(0,n.createElementVNode)("span",null,null,-1),ft=["for"],gt={class:"wb-ui-radio-input__main-label"},mt={class:"wb-ui-radio-input__description"};var yt=(0,n.defineComponent)({name:"RadioInput",data:()=>({id:"wb-ui-radio-input-"+Math.floor(1e6*Math.random())}),props:{name:{type:String,required:!0},htmlValue:{type:String,required:!0},disabled:{type:Boolean,default:!1},value:{type:String,default:""}},computed:{initiallyChecked(){return this.value===this.htmlValue}},compatConfig:{MODE:3}}),ht=(0,E.Z)(yt,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",lt,[(0,n.createElementVNode)("input",{name:e.name,value:e.htmlValue,type:"radio",id:e.id,checked:e.initiallyChecked,disabled:e.disabled,onChange:t[0]||(t[0]=t=>e.$emit("input",t.target.value))},null,40,pt),dt,(0,n.createElementVNode)("label",{for:e.id},[(0,n.createElementVNode)("span",gt,[(0,n.renderSlot)(e.$slots,"label")]),(0,n.createElementVNode)("span",mt,[(0,n.renderSlot)(e.$slots,"description")])],8,ft)])}]]),Et=(0,n.defineComponent)({mixins:[tt],name:"EditDecision",components:{RadioGroup:ut,RadioInput:ht},computed:{editDecision:{get(){return this.rootModule.state.editDecision},set(e){if(null===e)throw new Error("Cannot set editDecision back to null!");this.rootModule.dispatch("setEditDecision",e)}}},compatConfig:{MODE:3}}),vt=(0,E.Z)(Et,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("RadioInput"),c=(0,n.resolveComponent)("RadioGroup");return(0,n.openBlock)(),(0,n.createElementBlock)("div",nt,[(0,n.createElementVNode)("h2",ot,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.EDIT_DECISION_HEADING)),1),(0,n.createVNode)(c,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(a,{name:"editDecision","html-value":"replace",value:"editDecision",onInput:t[0]||(t[0]=t=>e.editDecision=t)},{label:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.$messages.get(e.$messages.KEYS.EDIT_DECISION_REPLACE_LABEL)},null,8,it)])),description:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.EDIT_DECISION_REPLACE_DESCRIPTION)),1)])),_:1}),(0,n.createVNode)(a,{name:"editDecision","html-value":"update",value:"editDecision",onInput:t[1]||(t[1]=t=>e.editDecision=t)},{label:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.$messages.get(e.$messages.KEYS.EDIT_DECISION_UPDATE_LABEL)},null,8,st)])),description:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.EDIT_DECISION_UPDATE_DESCRIPTION)),1)])),_:1})]),void 0,!0),_:1})])}]]);const bt={class:"wb-db-string-value"},_t=["for"];var St=(0,n.defineComponent)({name:"TermLabel",props:{term:{type:Object,required:!0},inLanguage:{type:Function,required:!0}},compatConfig:{MODE:3}}),Ot=(0,E.Z)(St,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("span",(0,n.mergeProps)({class:"wb-db-term-label"},e.inLanguage(e.term.language)),(0,n.toDisplayString)(e.term.value),17)}]]),wt=(0,n.defineComponent)({name:"PropertyLabel",components:{TermLabel:Ot},props:{term:{type:Object,required:!0},htmlFor:{type:String,required:!0}},compatConfig:{MODE:3}}),Tt=(0,E.Z)(wt,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("TermLabel");return(0,n.openBlock)(),(0,n.createElementBlock)("label",{class:"wb-db-property-label",for:e.htmlFor},[(0,n.createVNode)(a,{term:e.term,"in-language":e.$inLanguage},null,8,["term","in-language"])],8,_t)}]]);const Rt=["value","maxlength"];r(4916),r(5306);var At,kt=r(3279),It=r.n(kt),Nt=(0,n.defineComponent)({name:"ResizingTextField",emits:["input"],props:{value:{type:String,required:!1,default:""},maxLength:{type:Number,default:null}},data:()=>({windowResizeHandler:void 0}),mounted(){this.windowResizeHandler=It()((()=>this.resizeTextField()),100),window.addEventListener("resize",this.windowResizeHandler),this.resizeTextField()},unmounted(){void 0!==this.windowResizeHandler&&(window.removeEventListener("resize",this.windowResizeHandler),this.windowResizeHandler=void 0)},methods:{setValue(e){this.$emit("input",this.removeNewlines(e.target.value)),this.$forceUpdate(),this.$nextTick().then((()=>{this.resizeTextField()}))},removeNewlines:e=>e.replace(/\r?\n/g,""),resizeTextField(){const e=this.$el;e.style.height="0";const t=this.getPropertyValueInPx(e,"border-top-width")+this.getPropertyValueInPx(e,"border-bottom-width");e.style.height=this.$el.scrollHeight+t+"px"},getPropertyValueInPx:(e,t)=>parseInt(window.getComputedStyle(e).getPropertyValue(t))},compatConfig:{MODE:3}}),Pt=(0,E.Z)(Nt,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("textarea",{value:e.value,onInput:t[0]||(t[0]=(...t)=>e.setValue&&e.setValue(...t)),onKeydown:t[1]||(t[1]=(0,n.withKeys)((0,n.withModifiers)((()=>{}),["prevent"]),["enter"])),maxlength:e.maxLength},null,40,Rt)}]]),Ct=new Uint8Array(16);function Dt(){if(!At&&!(At="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return At(Ct)}for(var xt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Mt=function(e){return"string"==typeof e&&xt.test(e)},Lt=[],Bt=0;Bt<256;++Bt)Lt.push((Bt+256).toString(16).substr(1));var jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Lt[e[t+0]]+Lt[e[t+1]]+Lt[e[t+2]]+Lt[e[t+3]]+"-"+Lt[e[t+4]]+Lt[e[t+5]]+"-"+Lt[e[t+6]]+Lt[e[t+7]]+"-"+Lt[e[t+8]]+Lt[e[t+9]]+"-"+Lt[e[t+10]]+Lt[e[t+11]]+Lt[e[t+12]]+Lt[e[t+13]]+Lt[e[t+14]]+Lt[e[t+15]]).toLowerCase();if(!Mt(r))throw TypeError("Stringified UUID is invalid");return r},Ut=function(e,t,r){var n=(e=e||{}).random||(e.rng||Dt)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return jt(n)},$t=(0,n.defineComponent)({name:"StringDataValue",props:{dataValue:{type:Object,required:!1,default:null},label:{type:Object,required:!0},placeholder:{required:!1,type:String,default:void 0},maxlength:{type:Number,required:!1,default:void 0},setDataValue:{required:!0,type:Function}},components:{PropertyLabel:Tt,ResizingTextField:Pt},data:()=>({id:Ut()}),computed:{value:{get(){return this.dataValue?this.dataValue.value:""},set(e){this.setDataValue({type:"string",value:e})}}},compatConfig:{MODE:3}}),Vt=(0,E.Z)($t,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("PropertyLabel"),c=(0,n.resolveComponent)("ResizingTextField");return(0,n.openBlock)(),(0,n.createElementBlock)("div",bt,[(0,n.createVNode)(a,{term:e.label,"html-for":e.id},null,8,["term","html-for"]),(0,n.createVNode)(c,{id:e.id,class:"wb-db-string-value__input",placeholder:e.placeholder,"max-length":e.maxlength,value:e.value,onInput:t[0]||(t[0]=t=>e.value=t)},null,8,["id","placeholder","max-length","value"])])}]]);const Gt={class:"wb-db-references"},Ft={class:"wb-db-references__heading"},Ht={class:"wb-db-references__note"},Yt={class:"wb-db-references__list"},Kt=["innerHTML"];var Wt=(0,n.defineComponent)({mixins:[tt],name:"ReferenceSection",computed:{renderedTargetReferences(){return this.rootModule.state.renderedTargetReferences}},compatConfig:{MODE:3}}),Zt=(0,E.Z)(Wt,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Gt,[(0,n.createElementVNode)("h2",Ft,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.REFERENCES_HEADING)),1),(0,n.createElementVNode)("span",Ht,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.REFERENCE_NOTE)),1),(0,n.createElementVNode)("ul",Yt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.renderedTargetReferences,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{class:"wb-db-references__listItem",key:t,innerHTML:e},null,8,Kt)))),128))])])}]]),qt=(0,n.defineComponent)({mixins:[tt],name:"DataBridge",components:{EditDecision:vt,StringDataValue:Vt,ReferenceSection:Zt},computed:{targetValue(){const e=this.rootModule.state.targetValue;if(null===e)throw new Error("not yet ready!");return e},targetLabel(){return this.rootModule.getters.targetLabel},valueMaxLength(){return this.rootModule.getters.config.stringMaxLength}},methods:{setDataValue(e){this.rootModule.dispatch("setTargetValue",e)}},compatConfig:{MODE:3}}),zt=(0,E.Z)(qt,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("StringDataValue"),c=(0,n.resolveComponent)("ReferenceSection"),u=(0,n.resolveComponent)("EditDecision");return(0,n.openBlock)(),(0,n.createElementBlock)("section",rt,[(0,n.createVNode)(a,{label:e.targetLabel,"data-value":e.targetValue,"set-data-value":e.setDataValue,maxlength:e.valueMaxLength,class:"wb-db-bridge__target-value"},null,8,["label","data-value","set-data-value","maxlength"]),(0,n.createVNode)(c,{class:"wb-db-bridge__reference-section"}),(0,n.createVNode)(u)])}]]);const Jt={class:"wb-db-load"},Qt={class:"wb-ui-indeterminate-progress-bar__box"},Xt=[(0,n.createElementVNode)("div",{class:"wb-ui-indeterminate-progress-bar__bar","aria-busy":"true","aria-live":"polite"},null,-1)];var er=(0,n.defineComponent)({name:"IndeterminateProgressBar",compatConfig:{MODE:3}}),tr=(0,E.Z)(er,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Qt,Xt)}]]),rr=(0,n.defineComponent)({name:"Loading",components:{IndeterminateProgressBar:tr},props:{isInitializing:{type:Boolean,required:!0},isSaving:{type:Boolean,required:!0},TIME_UNTIL_CONSIDERED_SLOW:{type:Number,default:1e3},MINIMUM_TIME_OF_PROGRESS_ANIMATION:{type:Number,default:500}},watch:{isInitializing:{immediate:!0,handler(e,t){e?this.showLoading():this.tendTowardsReady()}},isSaving:{immediate:!0,handler(e,t){e?this.showLoading():this.tendTowardsReady()}}},data(){return{ready:!this.isInitializing,loadingIsSlow:!1,trackSlowness:null,trackAnimation:null,animatedEnough:!1}},methods:{showLoading(){this.ready=!this.isInitializing,this.trackSlowness=setTimeout((()=>{this.loadingIsSlow=!0,this.trackAnimation=setTimeout((()=>{this.animatedEnough=!0,this.tendTowardsReady()}),this.MINIMUM_TIME_OF_PROGRESS_ANIMATION)}),this.TIME_UNTIL_CONSIDERED_SLOW)},tendTowardsReady(){this.isInitializing||this.isSaving||this.loadingIsSlow&&!this.animatedEnough||(this.ready=!0,this.resetSlownessTracking())},resetSlownessTracking(){this.loadingIsSlow=!1,this.animatedEnough=!1,this.trackSlowness&&(clearTimeout(this.trackSlowness),this.trackSlowness=null),this.trackAnimation&&(clearTimeout(this.trackAnimation),this.trackAnimation=null)}},compatConfig:{MODE:3}}),nr=(0,E.Z)(rr,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("IndeterminateProgressBar");return(0,n.openBlock)(),(0,n.createElementBlock)("div",Jt,[e.ready?(0,n.renderSlot)(e.$slots,"default",{key:0}):(0,n.createCommentVNode)("",!0),e.loadingIsSlow?((0,n.openBlock)(),(0,n.createBlock)(a,{key:1,class:"wb-db-load__bar"})):(0,n.createCommentVNode)("",!0)])}]]);const or={class:"wb-db-error"};r(2479);const ir={class:"wb-db-unsupported-snaktype"},sr=["innerHTML"],ar=["innerHTML"],cr={class:"wb-db-bailout-actions"},ur={class:"wb-db-bailout-actions__heading"},lr={class:"wb-db-bailout-actions__suggestion"},pr=(0,n.createElementVNode)("br",null,null,-1),dr=["innerHTML"];var fr,gr=(0,n.defineComponent)({name:"BailoutActions",components:{EventEmittingButton:v},props:{originalHref:{type:String,required:!0},pageTitle:{required:!0,type:String}},computed:{editArticleUrl(){return this.$clientRouter.getPageUrl(this.pageTitle,{action:"edit"})}},compatConfig:{MODE:3}}),mr=(0,E.Z)(gr,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("EventEmittingButton");return(0,n.openBlock)(),(0,n.createElementBlock)("div",cr,[(0,n.createElementVNode)("h2",ur,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.BAILOUT_HEADING)),1),(0,n.createElementVNode)("ul",null,[(0,n.createElementVNode)("li",lr,[(0,n.createTextVNode)((0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.BAILOUT_SUGGESTION_GO_TO_REPO)),1),pr,(0,n.createVNode)(a,{class:"wb-db-bailout-actions__button",type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.BAILOUT_SUGGESTION_GO_TO_REPO_BUTTON),href:e.originalHref,"new-tab":!0,"prevent-default":!1},null,8,["message","href"])]),(0,n.createElementVNode)("li",{class:"wb-db-bailout-actions__suggestion",innerHTML:e.$messages.get(e.$messages.KEYS.BAILOUT_SUGGESTION_EDIT_ARTICLE,e.editArticleUrl)},null,8,dr)])])}]]),yr=(0,n.defineComponent)({mixins:[tt],name:"ErrorUnsupportedSnakType",components:{IconMessageBox:T,BailoutActions:mr},props:{snakType:{type:String,required:!0}},computed:{propertyLabel(){return(0,n.createApp)(Ot,{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}).mount(document.createElement("span")).$el},pageTitle(){return this.rootModule.state.pageTitle},originalHref(){return this.rootModule.state.originalHref},messageHeaderKey(){switch(this.snakType){case"somevalue":return this.$messages.KEYS.SOMEVALUE_ERROR_HEAD;case"novalue":return this.$messages.KEYS.NOVALUE_ERROR_HEAD;default:throw new Error("No message for unsupported snak type "+this.snakType)}},messageBodyKey(){switch(this.snakType){case"somevalue":return this.$messages.KEYS.SOMEVALUE_ERROR_BODY;case"novalue":return this.$messages.KEYS.NOVALUE_ERROR_BODY;default:throw new Error("No message for unsupported snak type "+this.snakType)}}},compatConfig:{MODE:3}}),hr=(0,E.Z)(yr,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("IconMessageBox"),c=(0,n.resolveComponent)("BailoutActions");return(0,n.openBlock)(),(0,n.createElementBlock)("div",ir,[(0,n.createVNode)(a,{class:"wb-db-unsupported-snaktype__message",type:"notice",inline:!0},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",{class:"wb-db-unsupported-snaktype__head",innerHTML:e.$messages.get(e.messageHeaderKey,e.propertyLabel)},null,8,sr),(0,n.createElementVNode)("p",{class:"wb-db-unsupported-snaktype__body",innerHTML:e.$messages.get(e.messageBodyKey,e.propertyLabel)},null,8,ar)]),void 0,!0),_:1}),(0,n.createVNode)(c,{class:"wb-db-unsupported-snaktype__bailout","original-href":e.originalHref,"page-title":e.pageTitle},null,8,["original-href","page-title"])])}]]);!function(e){e.BLOCKED_ON_CLIENT_PAGE="blocked_on_client_page",e.BLOCKED_ON_REPO_ITEM="blocked_on_repo_item",e.PAGE_CASCADE_PROTECTED="cascadeprotected_on_client_page",e.ITEM_FULLY_PROTECTED="protectedpage",e.ITEM_SEMI_PROTECTED="semiprotectedpage",e.ITEM_CASCADE_PROTECTED="cascadeprotected",e.UNKNOWN="unknown"}(fr||(fr={}));const Er={class:"wb-db-error-permission"},vr={class:"wb-db-error-permission__heading"},br={class:"wb-db-error-permission-info"},_r=["innerHTML"],Sr=["innerHTML"];var Or=(0,n.defineComponent)({name:"ErrorPermissionInfo",props:{expandedByDefault:{required:!1,default:!1,type:Boolean},messageHeader:{type:String,required:!0},messageBody:{type:String,required:!0}},data:()=>({infoIsExpanded:!1}),created(){this.infoIsExpanded=this.expandedByDefault},methods:{toggleInfo(){this.infoIsExpanded=!this.infoIsExpanded}},compatConfig:{MODE:3}}),wr=(0,E.Z)(Or,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",br,[(0,n.createElementVNode)("div",{class:"wb-db-error-permission-info__header",innerHTML:e.messageHeader},null,8,_r),(0,n.createElementVNode)("a",{class:(0,n.normalizeClass)(["wb-db-error-permission-info__toggle",["wb-db-error-permission-info__toggle--"+(e.infoIsExpanded?"open":"closed")]]),onClick:t[0]||(t[0]=(...t)=>e.toggleInfo&&e.toggleInfo(...t))},(0,n.toDisplayString)(this.$messages.getText(this.$messages.KEYS.PERMISSIONS_MORE_INFO)),3),e.infoIsExpanded?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"wb-db-error-permission-info__body",innerHTML:e.messageBody},null,8,Sr)):(0,n.createCommentVNode)("",!0)])}]]);const Tr=["href"];var Rr=(0,n.defineComponent)({name:"PageList",props:{pages:{type:Array,required:!0},router:{type:Object,required:!0}},compatConfig:{MODE:3}}),Ar=(0,E.Z)(Rr,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("ul",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.pages,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t},[(0,n.createElementVNode)("a",{href:e.router.getPageUrl(t)},(0,n.toDisplayString)(t),9,Tr)])))),128))])}]]);const kr=["href"],Ir={key:1};var Nr=(0,n.defineComponent)({name:"UserLink",props:{userId:{type:Number,required:!0},userName:{type:String,required:!0},router:{type:Object,required:!0}},compatConfig:{MODE:3}}),Pr=(0,E.Z)(Nr,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("span",null,[0!==e.userId?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,href:e.router.getPageUrl("Special:Redirect/user/"+e.userId)},[(0,n.createElementVNode)("bdi",null,(0,n.toDisplayString)(e.userName),1)],8,kr)):((0,n.openBlock)(),(0,n.createElementBlock)("bdi",Ir,(0,n.toDisplayString)(e.userName),1))])}]]);const Cr={[fr.ITEM_FULLY_PROTECTED]:{header:"PERMISSIONS_PROTECTED_HEADING",body:"PERMISSIONS_PROTECTED_BODY"},[fr.ITEM_SEMI_PROTECTED]:{header:"PERMISSIONS_SEMI_PROTECTED_HEADING",body:"PERMISSIONS_SEMI_PROTECTED_BODY"},[fr.ITEM_CASCADE_PROTECTED]:{header:"PERMISSIONS_CASCADE_PROTECTED_HEADING",body:"PERMISSIONS_CASCADE_PROTECTED_BODY"},[fr.BLOCKED_ON_CLIENT_PAGE]:{header:"PERMISSIONS_BLOCKED_ON_CLIENT_HEADING",body:"PERMISSIONS_BLOCKED_ON_CLIENT_BODY"},[fr.BLOCKED_ON_REPO_ITEM]:{header:"PERMISSIONS_BLOCKED_ON_REPO_HEADING",body:"PERMISSIONS_BLOCKED_ON_REPO_BODY"},[fr.PAGE_CASCADE_PROTECTED]:{header:"PERMISSIONS_PAGE_CASCADE_PROTECTED_HEADING",body:"PERMISSIONS_PAGE_CASCADE_PROTECTED_BODY"},[fr.UNKNOWN]:{header:"PERMISSIONS_ERROR_UNKNOWN_HEADING",body:"PERMISSIONS_ERROR_UNKNOWN_BODY"}};var Dr=(0,n.defineComponent)({mixins:[tt],name:"ErrorPermission",components:{ErrorPermissionInfo:wr},props:{permissionErrors:{type:Array,required:!0}},computed:{entityTitle(){return this.rootModule.state.entityTitle}},methods:{getMessageHeader(e){return this.$messages.get(this.$messages.KEYS[this.messageHeaderKey(e)],...this.messageHeaderParameters(e))},getMessageBody(e){return this.$messages.get(this.$messages.KEYS[this.messageBodyKey(e)],...this.messageBodyParameters(e))},buildTalkPageNamespace(){if(this.entityTitle.includes(":")){const e=this.entityTitle.split(":",2);return`${e[0]}_talk:${e[1]}`}return"Talk:"+this.entityTitle},messageHeaderKey:e=>Cr[e.type].header,messageBodyKey:e=>Cr[e.type].body,messageHeaderParameters(e){const t=[];switch(e.type){case fr.ITEM_FULLY_PROTECTED:t.push(this.$repoRouter.getPageUrl("Project:Page_protection_policy"),this.$repoRouter.getPageUrl("Project:Administrators"));break;case fr.ITEM_SEMI_PROTECTED:t.push(this.$repoRouter.getPageUrl("Project:Page_protection_policy"),this.$repoRouter.getPageUrl("Project:Autoconfirmed_users"));break;case fr.ITEM_CASCADE_PROTECTED:t.push("",this.$repoRouter.getPageUrl("Project:Administrators"))}return t},messageBodyParameters(e){const t=[];switch(e.type){case fr.BLOCKED_ON_CLIENT_PAGE:{const{blockedBy:r,blockedById:o,blockReason:i,blockId:s,blockExpiry:a,blockedTimestamp:c}=e.info,u=this.bdi(r),l=(0,n.createApp)(Pr,{userId:o,userName:r,router:this.$clientRouter}).mount(document.createElement("span")).$el;t.push(l,i,"",u,s.toString(),a,"",c);break}case fr.BLOCKED_ON_REPO_ITEM:{const{blockedBy:r,blockedById:o,blockReason:i,blockId:s,blockExpiry:a,blockedTimestamp:c}=e.info,u=this.bdi(r),l=(0,n.createApp)(Pr,{userId:o,userName:r,router:this.$repoRouter}).mount(document.createElement("span")).$el;t.push(l,i,"",u,s.toString(),a,"",c,this.$repoRouter.getPageUrl("Project:Administrators"));break}case fr.ITEM_FULLY_PROTECTED:t.push(this.$repoRouter.getPageUrl("Project:Page_protection_policy"),this.$repoRouter.getPageUrl("Project:Project:Edit_warring"),this.$repoRouter.getPageUrl("Special:Log/protect",{page:this.entityTitle}),this.$repoRouter.getPageUrl(this.buildTalkPageNamespace()));break;case fr.ITEM_SEMI_PROTECTED:t.push(this.$repoRouter.getPageUrl("Special:Log/protect",{page:this.entityTitle}),this.$repoRouter.getPageUrl(this.buildTalkPageNamespace()));break;case fr.ITEM_CASCADE_PROTECTED:t.push(e.info.pages.length.toString(),this.convertToHtmlList(e.info.pages,this.$repoRouter));break;case fr.PAGE_CASCADE_PROTECTED:t.push(e.info.pages.length.toString(),this.convertToHtmlList(e.info.pages,this.$clientRouter))}return t},bdi(e){const t=document.createElement("bdi");return t.textContent=e,t},convertToHtmlList:(e,t)=>(0,n.createApp)(Ar,{pages:e,router:t}).mount(document.createElement("span")).$el},compatConfig:{MODE:3}}),xr=(0,E.Z)(Dr,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("ErrorPermissionInfo");return(0,n.openBlock)(),(0,n.createElementBlock)("section",Er,[(0,n.createElementVNode)("p",vr,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.PERMISSIONS_HEADING)),1),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.permissionErrors,((t,r)=>((0,n.openBlock)(),(0,n.createBlock)(a,{class:"wb-db-error-permission__info",key:r,"message-header":e.getMessageHeader(t),"message-body":e.getMessageBody(t),"expanded-by-default":1===e.permissionErrors.length},null,8,["message-header","message-body","expanded-by-default"])))),128))])}]]);const Mr={class:"wb-db-error-unknown"},Lr={class:"wb-db-error-unknown__heading"},Br=["innerHTML"];var jr=(0,n.defineComponent)({mixins:[tt],name:"ReportIssue",computed:{message(){return this.$messages.get(this.$messages.KEYS.ERROR_REPORT,this.rootModule.getters.issueReportingLinkConfig.replace(/<body>/g,encodeURIComponent(this.rootModule.getters.reportIssueTemplateBody)),this.rootModule.state.pageUrl,this.rootModule.state.targetProperty,this.rootModule.state.entityTitle,this.rootModule.state.applicationErrors[0].type)}},compatConfig:{MODE:3}}),Ur=(0,E.Z)(jr,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"wb-db-report-issue",innerHTML:e.message},null,8,Br)}]]),$r=(0,n.defineComponent)({mixins:[tt],name:"ErrorUnknown",components:{EventEmittingButton:v,IconMessageBox:T,ReportIssue:Ur},emits:["relaunch"],methods:{relaunch(){this.$emit("relaunch")}},mounted(){this.rootModule.dispatch("trackErrorsFallingBackToGenericView")},compatConfig:{MODE:3}}),Vr=(0,E.Z)($r,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("IconMessageBox"),c=(0,n.resolveComponent)("ReportIssue"),u=(0,n.resolveComponent)("EventEmittingButton");return(0,n.openBlock)(),(0,n.createElementBlock)("div",Mr,[(0,n.createElementVNode)("h2",Lr,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.UNKNOWN_ERROR_HEADING)),1),(0,n.createVNode)(a,{class:"wb-db-error-unknown__message",type:"error"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.UNKNOWN_ERROR_MESSAGE)),1)]),void 0,!0),_:1}),(0,n.createVNode)(c,{class:"wb-db-error-unknown__report"}),(0,n.createVNode)(u,{class:"wb-db-error-unknown__relaunch",type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.ERROR_RELOAD_BRIDGE),onClick:e.relaunch},null,8,["message","onClick"])])}]]);const Gr={class:"wb-db-unsupported-datatype"},Fr=["innerHTML"],Hr=["innerHTML"];var Yr=(0,n.defineComponent)({mixins:[tt],name:"ErrorUnsupportedDatatype",components:{IconMessageBox:T,BailoutActions:mr},props:{dataType:{type:String,required:!0}},computed:{pageTitle(){return this.rootModule.state.pageTitle},originalHref(){return this.rootModule.state.originalHref},propertyLabel(){return(0,n.createApp)(Ot,{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}).mount(document.createElement("span")).$el}},compatConfig:{MODE:3}}),Kr=(0,E.Z)(Yr,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("IconMessageBox"),c=(0,n.resolveComponent)("BailoutActions");return(0,n.openBlock)(),(0,n.createElementBlock)("div",Gr,[(0,n.createVNode)(a,{class:"wb-db-unsupported-datatype__message",type:"notice",inline:!0},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",{class:"wb-db-unsupported-datatype__head",innerHTML:e.$messages.get(e.$messages.KEYS.UNSUPPORTED_DATATYPE_ERROR_HEAD,e.propertyLabel)},null,8,Fr),(0,n.createElementVNode)("p",{class:"wb-db-unsupported-datatype__body",innerHTML:e.$messages.get(e.$messages.KEYS.UNSUPPORTED_DATATYPE_ERROR_BODY,e.propertyLabel,e.dataType)},null,8,Hr)]),void 0,!0),_:1}),(0,n.createVNode)(c,{class:"wb-db-unsupported-datatype__bailout","original-href":e.originalHref,"page-title":e.pageTitle},null,8,["original-href","page-title"])])}]]);const Wr={class:"wb-db-deprecated-statement"},Zr=["innerHTML"],qr=["innerHTML"];var zr=(0,n.defineComponent)({mixins:[tt],name:"ErrorDeprecatedStatement",components:{IconMessageBox:T,BailoutActions:mr},computed:{propertyLabel(){return(0,n.createApp)(Ot,{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}).mount(document.createElement("span")).$el},pageTitle(){return this.rootModule.state.pageTitle},originalHref(){return this.rootModule.state.originalHref}},compatConfig:{MODE:3}}),Jr=(0,E.Z)(zr,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("IconMessageBox"),c=(0,n.resolveComponent)("BailoutActions");return(0,n.openBlock)(),(0,n.createElementBlock)("div",Wr,[(0,n.createVNode)(a,{class:"wb-db-deprecated-statement__message",type:"notice",inline:!0},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",{class:"wb-db-deprecated-statement__head",innerHTML:e.$messages.get(e.$messages.KEYS.DEPRECATED_STATEMENT_ERROR_HEAD,e.propertyLabel)},null,8,Zr),(0,n.createElementVNode)("p",{class:"wb-db-deprecated-statement__body",innerHTML:e.$messages.get(e.$messages.KEYS.DEPRECATED_STATEMENT_ERROR_BODY,e.propertyLabel)},null,8,qr)]),void 0,!0),_:1}),(0,n.createVNode)(c,{class:"wb-db-deprecated-statement__bailout","original-href":e.originalHref,"page-title":e.pageTitle},null,8,["original-href","page-title"])])}]]);const Qr={class:"wb-db-ambiguous-statement"},Xr={class:"wb-db-ambiguous-statement__head"},en=["innerHTML"];var tn=(0,n.defineComponent)({mixins:[tt],name:"ErrorAmbiguousStatement",components:{IconMessageBox:T,BailoutActions:mr},computed:{propertyLabel(){return(0,n.createApp)(Ot,{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}).mount(document.createElement("span")).$el},pageTitle(){return this.rootModule.state.pageTitle},originalHref(){return this.rootModule.state.originalHref}},compatConfig:{MODE:3}}),rn=(0,E.Z)(tn,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("IconMessageBox"),c=(0,n.resolveComponent)("BailoutActions");return(0,n.openBlock)(),(0,n.createElementBlock)("div",Qr,[(0,n.createVNode)(a,{class:"wb-db-ambiguous-statement__message",type:"notice",inline:!0},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",Xr,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.AMBIGUOUS_STATEMENT_ERROR_HEAD)),1),(0,n.createElementVNode)("p",{class:"wb-db-ambiguous-statement__body",innerHTML:e.$messages.get(e.$messages.KEYS.AMBIGUOUS_STATEMENT_ERROR_BODY,e.propertyLabel)},null,8,en)]),void 0,!0),_:1}),(0,n.createVNode)(c,{"original-href":e.originalHref,"page-title":e.pageTitle},null,8,["original-href","page-title"])])}]]);const nn={class:"wb-db-error-saving"},on={class:"wb-db-error-saving__heading"},sn={class:"wb-db-error-saving__buttons"};var an=(0,n.defineComponent)({mixins:[tt],name:"ErrorSaving",components:{EventEmittingButton:v,IconMessageBox:T,ReportIssue:Ur},mounted(){this.rootModule.dispatch("trackSavingErrorsFallingBackToGenericView")},methods:{retrySave(){this.rootModule.dispatch("retrySave")},goBack(){this.rootModule.dispatch("goBackFromErrorToReady")}},compatConfig:{MODE:3}}),cn=(0,E.Z)(an,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("IconMessageBox"),c=(0,n.resolveComponent)("ReportIssue"),u=(0,n.resolveComponent)("EventEmittingButton");return(0,n.openBlock)(),(0,n.createElementBlock)("div",nn,[(0,n.createElementVNode)("h2",on,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_HEADING)),1),(0,n.createVNode)(a,{class:"wb-db-error-saving__message",type:"error"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_MESSAGE)),1)]),void 0,!0),_:1}),(0,n.createVNode)(c,{class:"wb-db-error-saving__report"}),(0,n.createElementVNode)("div",sn,[(0,n.createVNode)(u,{class:"wb-db-error-saving__back",type:"neutral",size:"M",message:e.$messages.getText(e.$messages.KEYS.ERROR_GO_BACK),onClick:e.goBack},null,8,["message","onClick"]),(0,n.createVNode)(u,{class:"wb-db-error-saving__retry",type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.ERROR_RETRY_SAVE),onClick:e.retrySave},null,8,["message","onClick"])])])}]]);const un={class:"wb-db-error-saving-assertuser"},ln={class:"wb-db-error-saving-assertuser__heading"},pn={class:"wb-db-error-saving-assertuser__buttons"};var dn=(0,n.defineComponent)({mixins:[tt],name:"ErrorSavingAssertUser",components:{EventEmittingButton:v,IconMessageBox:T},props:{loginUrl:{required:!0,type:String}},computed:{publishOrSave(){return this.rootModule.getters.config.usePublish?this.$messages.KEYS.SAVING_ERROR_ASSERTUSER_PUBLISH:this.$messages.KEYS.SAVING_ERROR_ASSERTUSER_SAVE}},methods:{proceed(){var e=this;return(0,C.Z)((function*(){yield e.rootModule.dispatch("stopAssertingUserWhenSaving"),yield e.rootModule.dispatch("retrySave")}))()},back(){this.rootModule.dispatch("goBackFromErrorToReady")}},compatConfig:{MODE:3}}),fn=(0,E.Z)(dn,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("IconMessageBox"),c=(0,n.resolveComponent)("EventEmittingButton");return(0,n.openBlock)(),(0,n.createElementBlock)("div",un,[(0,n.createElementVNode)("h2",ln,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_ASSERTUSER_HEADING)),1),(0,n.createVNode)(a,{class:"wb-db-error-saving-assertuser__message",type:"warning"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_ASSERTUSER_MESSAGE)),1)]),void 0,!0),_:1}),(0,n.createElementVNode)("div",pn,[(0,n.createVNode)(c,{class:"wb-db-error-saving-assertuser__proceed",type:"primaryProgressive",size:"M",message:e.$messages.getText(e.publishOrSave),onClick:e.proceed},null,8,["message","onClick"]),(0,n.createVNode)(c,{class:"wb-db-error-saving-assertuser__login",type:"neutral",size:"M",href:e.loginUrl,message:e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_ASSERTUSER_LOGIN),"new-tab":!0,"prevent-default":!1,onClick:e.back},null,8,["href","message","onClick"]),(0,n.createVNode)(c,{class:"wb-db-error-saving-assertuser__back",type:"link",size:"M",message:e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_ASSERTUSER_KEEP_EDITING),onClick:e.back},null,8,["message","onClick"])])])}]]);const gn={class:"wb-db-error-saving-edit-conflict"},mn={class:"wb-db-error-saving-edit-conflict__heading"};var yn=(0,n.defineComponent)({name:"ErrorSavingEditConflict",components:{EventEmittingButton:v,IconMessageBox:T},emits:["reload"],methods:{reload(){this.$emit("reload")}},compatConfig:{MODE:3}}),hn=(0,E.Z)(yn,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("IconMessageBox"),c=(0,n.resolveComponent)("EventEmittingButton");return(0,n.openBlock)(),(0,n.createElementBlock)("div",gn,[(0,n.createElementVNode)("h2",mn,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.EDIT_CONFLICT_ERROR_HEADING)),1),(0,n.createVNode)(a,{class:"wb-db-error-saving-edit-conflict__message",type:"error"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.EDIT_CONFLICT_ERROR_MESSAGE)),1)]),void 0,!0),_:1}),(0,n.createVNode)(c,{class:"wb-db-error-saving-edit-conflict__reload",type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.ERROR_RELOAD_PAGE),onClick:e.reload},null,8,["message","onClick"])])}]]);function En(e){return Object.values(fr).includes(e.type)}var vn=(0,n.defineComponent)({mixins:[tt],name:"ErrorWrapper",components:{ErrorUnsupportedSnakType:hr,ErrorPermission:xr,ErrorUnknown:Vr,ErrorUnsupportedDatatype:Kr,ErrorDeprecatedStatement:Jr,ErrorAmbiguousStatement:rn,ErrorSaving:cn,ErrorSavingAssertUser:fn,ErrorSavingEditConflict:hn},emits:["reload","relaunch"],computed:{applicationErrors(){return this.rootModule.state.applicationErrors},permissionErrors(){return this.applicationErrors.filter(En)},unsupportedDatatypeError(){for(const e of this.applicationErrors)if(e.type===L.UNSUPPORTED_DATATYPE)return e;return null},statementValueIsDeprecated(){return this.applicationErrors.some((e=>e.type===L.UNSUPPORTED_DEPRECATED_STATEMENT))},statementIsAmbiguous(){return this.applicationErrors.some((e=>e.type===L.UNSUPPORTED_AMBIGUOUS_STATEMENT))},unsupportedSnakTypeError(){for(const e of this.applicationErrors)if(e.type===L.UNSUPPORTED_SNAK_TYPE)return e;return null},isGenericSavingError(){return this.rootModule.getters.isGenericSavingError},isAssertUserFailedError(){return this.rootModule.getters.isAssertUserFailedError},isEditConflictError(){return this.rootModule.getters.isEditConflictError},loginUrl(){return this.$clientRouter.getPageUrl("Special:UserLogin",{warning:this.$messages.KEYS.LOGIN_WARNING})}},methods:{relaunch(){this.$emit("relaunch")},reload(){this.$emit("reload")}},compatConfig:{MODE:3}}),bn=(0,E.Z)(vn,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("ErrorPermission"),c=(0,n.resolveComponent)("ErrorUnsupportedDatatype"),u=(0,n.resolveComponent)("ErrorDeprecatedStatement"),l=(0,n.resolveComponent)("ErrorAmbiguousStatement"),p=(0,n.resolveComponent)("ErrorUnsupportedSnakType"),d=(0,n.resolveComponent)("ErrorSaving"),f=(0,n.resolveComponent)("ErrorSavingAssertUser"),g=(0,n.resolveComponent)("ErrorSavingEditConflict"),m=(0,n.resolveComponent)("ErrorUnknown");return(0,n.openBlock)(),(0,n.createElementBlock)("section",or,[e.permissionErrors.length?((0,n.openBlock)(),(0,n.createBlock)(a,{key:0,"permission-errors":e.permissionErrors},null,8,["permission-errors"])):null!==e.unsupportedDatatypeError?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,"data-type":e.unsupportedDatatypeError.info.unsupportedDatatype},null,8,["data-type"])):e.statementValueIsDeprecated?((0,n.openBlock)(),(0,n.createBlock)(u,{key:2})):e.statementIsAmbiguous?((0,n.openBlock)(),(0,n.createBlock)(l,{key:3})):null!==e.unsupportedSnakTypeError?((0,n.openBlock)(),(0,n.createBlock)(p,{key:4,"snak-type":e.unsupportedSnakTypeError.info.snakType},null,8,["snak-type"])):e.isGenericSavingError?((0,n.openBlock)(),(0,n.createBlock)(d,{key:5})):e.isAssertUserFailedError?((0,n.openBlock)(),(0,n.createBlock)(f,{key:6,"login-url":e.loginUrl},null,8,["login-url"])):e.isEditConflictError?((0,n.openBlock)(),(0,n.createBlock)(g,{key:7,onReload:e.reload},null,8,["onReload"])):((0,n.openBlock)(),(0,n.createBlock)(m,{key:8,onRelaunch:e.relaunch},null,8,["onRelaunch"]))])}]]);const _n={class:"wb-db-license"},Sn={class:"wb-db-license__button"},On={class:"wb-db-license__text"},wn={class:"wb-db-license__heading"},Tn=["innerHTML"];var Rn=(0,n.defineComponent)({name:"License",mixins:[tt],components:{EventEmittingButton:v},emits:["close"],computed:{publishOrSave(){return this.rootModule.getters.config.usePublish?this.$messages.KEYS.PUBLISH_CHANGES:this.$messages.KEYS.SAVE_CHANGES},getBodyMessage(){var e,t,r;const n=this.rootModule.getters.config;return this.$messages.get(this.$messages.KEYS.LICENSE_BODY,this.publishOrSave,null!==(e=n.termsOfUseUrl)&&void 0!==e?e:"",null!==(t=n.dataRightsUrl)&&void 0!==t?t:"",null!==(r=n.dataRightsText)&&void 0!==r?r:"")}},methods:{handleCloseButtonClick(e){this.$emit("close",e)}},compatConfig:{MODE:3}}),An=(0,E.Z)(Rn,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("EventEmittingButton");return(0,n.openBlock)(),(0,n.createElementBlock)("div",_n,[(0,n.createElementVNode)("span",Sn,[(0,n.createVNode)(a,{message:e.$messages.getText(e.$messages.KEYS.CANCEL),size:"M",type:"close",onClick:e.handleCloseButtonClick},null,8,["message","onClick"])]),(0,n.createElementVNode)("div",On,[(0,n.createElementVNode)("h2",wn,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.LICENSE_HEADING)),1),(0,n.createElementVNode)("div",{class:"wb-db-license__body",innerHTML:e.getBodyMessage},null,8,Tn)])])}]]);const kn={class:"wb-db-thankyou"},In={class:"wb-db-thankyou__head"},Nn={class:"wb-db-thankyou__body"},Pn={class:"wb-db-thankyou__button"};var Cn=(0,n.defineComponent)({name:"ThankYou",components:{EventEmittingButton:v},emits:["opened-reference-edit-on-repo"],props:{repoLink:{type:String,required:!0}},methods:{click(){this.$emit("opened-reference-edit-on-repo")}},compatConfig:{MODE:3}}),Dn=(0,E.Z)(Cn,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("EventEmittingButton");return(0,n.openBlock)(),(0,n.createElementBlock)("div",kn,[(0,n.createElementVNode)("h2",In,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.THANK_YOU_HEAD)),1),(0,n.createElementVNode)("p",Nn,(0,n.toDisplayString)(e.$messages.getText(e.$messages.KEYS.THANK_YOU_EDIT_REFERENCE_ON_REPO_BODY)),1),(0,n.createElementVNode)("div",Pn,[(0,n.createVNode)(a,{type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.THANK_YOU_EDIT_REFERENCE_ON_REPO_BUTTON),href:e.repoLink,"new-tab":!0,"prevent-default":!1,onClick:e.click},null,8,["message","href","onClick"])])])}]]);const xn=["innerHTML"],Mn={key:0,class:"app-header__back-button"},Ln={class:"wb-ui-processdialog-header"},Bn=(0,n.createElementVNode)("div",null,null,-1),jn={class:"wb-ui-processdialog-header__title"},Un=(0,n.createElementVNode)("span",null,null,-1),$n=(0,n.createElementVNode)("div",null,null,-1);var Vn,Gn=(0,n.defineComponent)({name:"ProcessDialogHeader",compatConfig:{MODE:3}}),Fn=(0,E.Z)(Gn,[["render",function(e,t,r,o,i,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Ln,[(0,n.renderSlot)(e.$slots,"safeAction",{},(()=>[Bn])),(0,n.createElementVNode)("h1",jn,[(0,n.renderSlot)(e.$slots,"title",{},(()=>[Un]))]),(0,n.renderSlot)(e.$slots,"primaryAction",{},(()=>[$n]))])}]]),Hn=(0,n.defineComponent)({mixins:[tt],name:"AppHeader",components:{EventEmittingButton:v,ProcessDialogHeader:Fn},emits:["save","close","back"],computed:{title(){const e=(0,n.createApp)(Ot,{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}).mount(document.createElement("span")).$el;return this.$messages.get(this.$messages.KEYS.BRIDGE_DIALOG_TITLE,e)},canGoBack(){return this.rootModule.getters.canGoToPreviousState},isSaved(){return this.rootModule.getters.applicationStatus===B.SAVED},hasError(){return this.rootModule.getters.applicationStatus===B.ERROR},hasWarning(){return this.rootModule.state.showWarningAnonymousEdit},publishOrSave(){return this.rootModule.getters.config.usePublish?this.$messages.KEYS.PUBLISH_CHANGES:this.$messages.KEYS.SAVE_CHANGES},canStartSaving(){return this.rootModule.getters.canStartSaving},isSaving(){return this.rootModule.getters.applicationStatus===B.SAVING}},methods:{close(){this.$emit("close")},save(){this.$emit("save")},back(){this.$emit("back")}},compatConfig:{MODE:3}}),Yn=(0,E.Z)(Hn,[["render",function(e,t,r,o,i,s){const a=(0,n.resolveComponent)("EventEmittingButton"),c=(0,n.resolveComponent)("ProcessDialogHeader");return(0,n.openBlock)(),(0,n.createBlock)(c,{class:"wb-db-app__header"},{title:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.title},null,8,xn)])),primaryAction:(0,n.withCtx)((()=>[e.hasWarning||e.hasError||e.isSaved?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(a,{key:0,message:e.$messages.getText(e.publishOrSave),type:"primaryProgressive",size:"L",squary:!0,onClick:e.save,disabled:!e.canStartSaving},null,8,["message","onClick","disabled"]))])),safeAction:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)({"app-header__close-button--desktop-only":e.canGoBack})},[(0,n.createVNode)(a,{message:e.$messages.getText(e.$messages.KEYS.CANCEL),type:"close",size:"L",squary:!0,disabled:e.isSaving,onClick:e.close},null,8,["message","disabled","onClick"])],2),e.canGoBack?((0,n.openBlock)(),(0,n.createElementBlock)("span",Mn,[(0,n.createVNode)(a,{message:e.$messages.getText(e.$messages.KEYS.ERROR_GO_BACK),type:"back",size:"L",squary:!0,onClick:e.back},null,8,["message","onClick"])])):(0,n.createCommentVNode)("",!0)])),_:1})}]]),Kn=(0,n.defineComponent)({mixins:[tt],name:"App",components:{WarningAnonymousEdit:A,AppHeader:Yn,License:An,DataBridge:zt,ErrorWrapper:bn,Loading:nr,ThankYou:Dn},data:()=>({licenseIsVisible:!1}),props:{emitter:{required:!0,type:Object}},computed:{isOverlayed(){return this.isSaving||this.licenseIsVisible},isSaving(){return this.rootModule.getters.applicationStatus===B.SAVING},isInitializing(){return this.rootModule.getters.applicationStatus===B.INITIALIZING},isSaved(){return this.rootModule.getters.applicationStatus===B.SAVED},hasError(){return this.rootModule.getters.applicationStatus===B.ERROR},hasErrorRequiringReload(){return this.hasError&&this.rootModule.getters.isEditConflictError},repoLink(){return this.rootModule.state.originalHref},showWarningAnonymousEdit(){return this.rootModule.state.showWarningAnonymousEdit},loginUrl(){return this.$clientRouter.getPageUrl("Special:UserLogin",{returnto:this.rootModule.state.pageTitle})}},methods:{close(){this.isSaved?this.emitter.emit(P.saved):this.hasErrorRequiringReload?this.reload():this.emitter.emit(P.cancel)},back(){this.rootModule.dispatch("goBackFromErrorToReady")},dismissLicense(){this.licenseIsVisible=!1},save(){this.licenseIsVisible?(this.licenseIsVisible=!1,this.rootModule.dispatch("saveBridge")):this.licenseIsVisible=!0},openedReferenceEditOnRepo(){this.emitter.emit(P.saved)},relaunch(){this.emitter.emit(P.relaunch)},reload(){this.emitter.emit(P.reload)},dismissWarningAnonymousEdit(){this.rootModule.dispatch("dismissWarningAnonymousEdit")}},compatConfig:{MODE:3}}),Wn=(0,E.Z)(Kn,[["render",function(e,t,r,a,c,u){const l=(0,n.resolveComponent)("AppHeader"),p=(0,n.resolveComponent)("WarningAnonymousEdit"),d=(0,n.resolveComponent)("ErrorWrapper"),f=(0,n.resolveComponent)("ThankYou"),g=(0,n.resolveComponent)("License"),m=(0,n.resolveComponent)("DataBridge"),y=(0,n.resolveComponent)("Loading");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createVNode)(l,{onSave:e.save,onClose:e.close,onBack:e.back},null,8,["onSave","onClose","onBack"]),(0,n.createElementVNode)("div",i,[e.showWarningAnonymousEdit?((0,n.openBlock)(),(0,n.createBlock)(p,{key:0,"login-url":e.loginUrl,onProceed:e.dismissWarningAnonymousEdit},null,8,["login-url","onProceed"])):e.hasError?((0,n.openBlock)(),(0,n.createBlock)(d,{key:1,onRelaunch:e.relaunch,onReload:e.reload},null,8,["onRelaunch","onReload"])):e.isSaved?((0,n.openBlock)(),(0,n.createBlock)(f,{key:2,"repo-link":e.repoLink,onOpenedReferenceEditOnRepo:e.openedReferenceEditOnRepo},null,8,["repo-link","onOpenedReferenceEditOnRepo"])):((0,n.openBlock)(),(0,n.createBlock)(y,{key:3,"is-initializing":e.isInitializing,"is-saving":e.isSaving},{default:(0,n.withCtx)((()=>[e.licenseIsVisible?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(g,{onClose:e.dismissLicense},null,8,["onClose"])])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(m,{class:(0,n.normalizeClass)(["wb-db-app__data-bridge",{"wb-db-app__data-bridge--overlayed":e.isOverlayed}])},null,8,["class"])]),void 0,!0),_:1},8,["is-initializing","is-saving"]))])])}]]),Zn=r(7187);function qn(e,t){e.config.globalProperties.$inLanguage=e=>{if(!e)return{};const r=t.resolve(e);return{lang:r.code,dir:r.directionality}}}!function(e){e.BRIDGE_DIALOG_TITLE="wikibase-client-data-bridge-dialog-title",e.SAVE_CHANGES="savechanges",e.PUBLISH_CHANGES="publishchanges",e.CANCEL="cancel",e.EDIT_DECISION_HEADING="wikibase-client-data-bridge-edit-decision-heading",e.EDIT_DECISION_REPLACE_LABEL="wikibase-client-data-bridge-edit-decision-replace-label",e.EDIT_DECISION_REPLACE_DESCRIPTION="wikibase-client-data-bridge-edit-decision-replace-description",e.EDIT_DECISION_UPDATE_LABEL="wikibase-client-data-bridge-edit-decision-update-label",e.EDIT_DECISION_UPDATE_DESCRIPTION="wikibase-client-data-bridge-edit-decision-update-description",e.REFERENCES_HEADING="wikibase-client-data-bridge-references-heading",e.ANONYMOUS_EDIT_WARNING_HEADING="wikibase-client-data-bridge-anonymous-edit-warning-heading",e.ANONYMOUS_EDIT_WARNING_MESSAGE="wikibase-client-data-bridge-anonymous-edit-warning-message",e.ANONYMOUS_EDIT_WARNING_PROCEED="wikibase-client-data-bridge-anonymous-edit-warning-proceed",e.ANONYMOUS_EDIT_WARNING_LOGIN="wikibase-client-data-bridge-anonymous-edit-warning-login",e.PERMISSIONS_HEADING="wikibase-client-data-bridge-permissions-error",e.PERMISSIONS_MORE_INFO="wikibase-client-data-bridge-permissions-error-info",e.PERMISSIONS_BLOCKED_ON_CLIENT_HEADING="wikibase-client-data-bridge-blocked-on-client-head",e.PERMISSIONS_BLOCKED_ON_CLIENT_BODY="wikibase-client-data-bridge-blocked-on-client-body",e.PERMISSIONS_BLOCKED_ON_REPO_HEADING="wikibase-client-data-bridge-blocked-on-repo-head",e.PERMISSIONS_BLOCKED_ON_REPO_BODY="wikibase-client-data-bridge-blocked-on-repo-body",e.PERMISSIONS_PAGE_CASCADE_PROTECTED_HEADING="wikibase-client-data-bridge-cascadeprotected-on-client-head",e.PERMISSIONS_PAGE_CASCADE_PROTECTED_BODY="wikibase-client-data-bridge-cascadeprotected-on-client-body",e.PERMISSIONS_PROTECTED_HEADING="wikibase-client-data-bridge-protected-on-repo-head",e.PERMISSIONS_PROTECTED_BODY="wikibase-client-data-bridge-protected-on-repo-body",e.PERMISSIONS_SEMI_PROTECTED_HEADING="wikibase-client-data-bridge-semiprotected-on-repo-head",e.PERMISSIONS_SEMI_PROTECTED_BODY="wikibase-client-data-bridge-semiprotected-on-repo-body",e.PERMISSIONS_CASCADE_PROTECTED_HEADING="wikibase-client-data-bridge-cascadeprotected-on-repo-head",e.PERMISSIONS_CASCADE_PROTECTED_BODY="wikibase-client-data-bridge-cascadeprotected-on-repo-body",e.PERMISSIONS_ERROR_UNKNOWN_HEADING="wikibase-client-data-bridge-permissions-error-unknown-head",e.PERMISSIONS_ERROR_UNKNOWN_BODY="wikibase-client-data-bridge-permissions-error-unknown-body",e.BAILOUT_HEADING="wikibase-client-data-bridge-bailout-heading",e.BAILOUT_SUGGESTION_GO_TO_REPO="wikibase-client-data-bridge-bailout-suggestion-go-to-repo",e.BAILOUT_SUGGESTION_GO_TO_REPO_BUTTON="wikibase-client-data-bridge-bailout-suggestion-go-to-repo-button",e.BAILOUT_SUGGESTION_EDIT_ARTICLE="wikibase-client-data-bridge-bailout-suggestion-edit-article",e.UNSUPPORTED_DATATYPE_ERROR_HEAD="wikibase-client-data-bridge-unsupported-datatype-error-head",e.UNSUPPORTED_DATATYPE_ERROR_BODY="wikibase-client-data-bridge-unsupported-datatype-error-body",e.DEPRECATED_STATEMENT_ERROR_HEAD="wikibase-client-data-bridge-deprecated-statement-error-head",e.DEPRECATED_STATEMENT_ERROR_BODY="wikibase-client-data-bridge-deprecated-statement-error-body",e.AMBIGUOUS_STATEMENT_ERROR_HEAD="wikibase-client-data-bridge-ambiguous-statement-error-head",e.AMBIGUOUS_STATEMENT_ERROR_BODY="wikibase-client-data-bridge-ambiguous-statement-error-body",e.SOMEVALUE_ERROR_HEAD="wikibase-client-data-bridge-somevalue-error-head",e.SOMEVALUE_ERROR_BODY="wikibase-client-data-bridge-somevalue-error-body",e.SAVING_ERROR_HEADING="wikibase-client-data-bridge-saving-error-heading",e.SAVING_ERROR_MESSAGE="wikibase-client-data-bridge-saving-error-message",e.EDIT_CONFLICT_ERROR_HEADING="wikibase-client-data-bridge-edit-conflict-error-heading",e.EDIT_CONFLICT_ERROR_MESSAGE="wikibase-client-data-bridge-edit-conflict-error-message",e.UNKNOWN_ERROR_HEADING="wikibase-client-data-bridge-unknown-error-heading",e.UNKNOWN_ERROR_MESSAGE="wikibase-client-data-bridge-unknown-error-message",e.ERROR_REPORT="wikibase-client-data-bridge-error-report",e.ERROR_RELOAD_BRIDGE="wikibase-client-data-bridge-error-reload-bridge",e.ERROR_RELOAD_PAGE="wikibase-client-data-bridge-error-reload-page",e.ERROR_GO_BACK="wikibase-client-data-bridge-error-go-back",e.ERROR_RETRY_SAVE="wikibase-client-data-bridge-error-retry-save",e.NOVALUE_ERROR_HEAD="wikibase-client-data-bridge-novalue-error-head",e.NOVALUE_ERROR_BODY="wikibase-client-data-bridge-novalue-error-body",e.LICENSE_HEADING="wikibase-client-data-bridge-license-heading",e.LICENSE_BODY="wikibase-client-data-bridge-license-body",e.LOGIN_WARNING="wikibase-client-data-bridge-login-warning",e.REFERENCE_NOTE="wikibase-client-data-bridge-reference-note",e.THANK_YOU_HEAD="wikibase-client-data-bridge-thank-you-head",e.THANK_YOU_EDIT_REFERENCE_ON_REPO_BODY="wikibase-client-data-bridge-thank-you-edit-reference-on-repo-body",e.THANK_YOU_EDIT_REFERENCE_ON_REPO_BUTTON="wikibase-client-data-bridge-thank-you-edit-reference-on-repo-button",e.SAVING_ERROR_ASSERTUSER_HEADING="wikibase-client-data-bridge-saving-error-assertuser-heading",e.SAVING_ERROR_ASSERTUSER_MESSAGE="wikibase-client-data-bridge-saving-error-assertuser-message",e.SAVING_ERROR_ASSERTUSER_SAVE="wikibase-client-data-bridge-saving-error-assertuser-save",e.SAVING_ERROR_ASSERTUSER_PUBLISH="wikibase-client-data-bridge-saving-error-assertuser-publish",e.SAVING_ERROR_ASSERTUSER_LOGIN="wikibase-client-data-bridge-saving-error-assertuser-login",e.SAVING_ERROR_ASSERTUSER_KEEP_EDITING="wikibase-client-data-bridge-saving-error-assertuser-editing"}(Vn||(Vn={}));var zn,Jn=Vn;class Qn{constructor(e){(0,D.Z)(this,"KEYS",Jn),(0,D.Z)(this,"messagesRepository",void 0),this.messagesRepository=e}get(e,...t){return this.messagesRepository.get(e,...t)}getText(e,...t){return this.messagesRepository.getText(e,...t)}}function Xn(e,t){e.config.globalProperties.$messages=new Qn(t)}function eo(e,t){e.config.globalProperties.$repoRouter=t}function to(e,t){e.config.globalProperties.$clientRouter=t}class ro extends Error{}class no extends Error{constructor(e){super("request error"),(0,D.Z)(this,"error",void 0),this.error=e}}class oo{constructor(e){(0,D.Z)(this,"api",void 0),this.api=e}postWithEditTokenAndAssertUser(e){return Promise.resolve(this.api.postWithEditToken(this.api.assertCurrentUser(this.mapParameters(e))).catch(this.mwApiRejectionToError))}postWithEditToken(e){return Promise.resolve(this.api.postWithEditToken(this.mapParameters(e)).catch(this.mwApiRejectionToError))}get(e){return Promise.resolve(this.api.get(this.mapParameters(e)).catch(this.mwApiRejectionToError))}mapParameters(e){const t={};for(const r of Object.keys(e)){const n=e[r];n instanceof Set?t[r]=[...n]:t[r]=n}return t}mwApiRejectionToError(e,t,r,n){switch(e){case"http":throw new no(t.xhr);case"ok-but-empty":throw new ro(t);default:{const e=t;throw e.error?new x([e.error]):e.errors?new x(e.errors):new ro("mw.Api rejected but result does not contain error(s)")}}}}class io extends Error{}function so(e,t){if("object"!=typeof e.entities)throw new ro("Result not well formed.");const r=e.entities[t];if(!r)throw new io("Result does not contain relevant entity.");if("missing"in r)throw new io("Entity flagged missing in response.");return r}function ao(e){throw e instanceof x&&1===e.errors.length&&"no-such-entity"===e.errors[0].code?new io("Entity flagged missing in response."):e}class co{constructor(e){(0,D.Z)(this,"api",void 0),this.api=e}getEntity(e){var t=this;return(0,C.Z)((function*(){const r=so(yield t.api.get({action:"wbgetentities",ids:new Set([e]),props:new Set(["info","claims"])}).catch(ao),e);return new Le(new Me(e,r.claims),r.lastrevid)}))()}}class uo{constructor(e,t){(0,D.Z)(this,"api",void 0),(0,D.Z)(this,"tags",void 0),this.api=e,this.tags=t||void 0}saveEntity(e,t,r=!0){const n={action:"wbeditentity",id:e.id,baserevid:null==t?void 0:t.revisionId,data:JSON.stringify({claims:e.statements}),tags:this.tags};let o;return o=r?this.api.postWithEditTokenAndAssertUser(n):this.api.postWithEditToken(n),o.then((e=>new Le(new Me(e.entity.id,e.entity.claims),e.entity.lastrevid)),(e=>{if(!(e instanceof x))throw e;throw new M(e.errors.map((e=>{switch(e.code){case"assertanonfailed":return{type:L.ASSERT_ANON_FAILED,info:e};case"assertuserfailed":return{type:L.ASSERT_USER_FAILED,info:e};case"assertnameduserfailed":return{type:L.ASSERT_NAMED_USER_FAILED,info:e};case"editconflict":return{type:L.EDIT_CONFLICT,info:e};case"nosuchrevid":return{type:L.NO_SUCH_REVID,info:e};case"badtags":return{type:L.BAD_TAGS,info:e};default:return{type:L.SAVING_FAILED,info:e}}})))}))}}class lo{constructor(e){(0,D.Z)(this,"api",void 0),(0,D.Z)(this,"requests",void 0),this.api=e,this.requests=[]}get(e){for(const o of this.requests){const t=this.mergeParams(o.params,e);if(!1!==t)return o.params=t,o.promise}let t,r;const n=new Promise(((e,n)=>{t=e,r=n}));return this.requests.push({params:e,promise:n,resolve:t,reject:r}),1===this.requests.length&&Promise.resolve().then((()=>this.flush())),n}flush(){for(const{params:e,resolve:t,reject:r}of this.requests)this.api.get(e).then(t,r);this.requests.length=0}mergeParams(e,t){const r=new Set([...Object.getOwnPropertyNames(e),...Object.getOwnPropertyNames(t)]),n={};for(const o of r){const r=void 0!==e[o],i=void 0!==t[o];if(!r||!i){n[o]=(r?e:t)[o];continue}const s=e[o],a=t[o];if(s instanceof Set&&a instanceof Set){const e=new Set;n[o]=e;for(const t of[s,a])for(const r of t)e.add(String(r));continue}if(s instanceof Array||a instanceof Array)return!1;if("boolean"==typeof s&&"boolean"==typeof a){if(s===a){n[o]=s;continue}return!1}const c=String(s);if(c!==String(a))return!1;n[o]=c}return n}}class po{constructor(e){(0,D.Z)(this,"getUrl",void 0),this.getUrl=e}getPageUrl(e,t){return this.getUrl(e,t)}}class fo{constructor(e){(0,D.Z)(this,"apiWritingRepository",void 0),this.apiWritingRepository=e}saveEntity(e,t,r=!0){var n=this;return(0,C.Z)((function*(){return t&&(e=n.trimEntity(e,t.entity)),n.apiWritingRepository.saveEntity(e,t,r)}))()}trimEntity(e,t){if(e.id!==t.id)throw new ro("Entity ID mismatch");const r=this.trimStatementMap(e.statements,t.statements);return new Me(e.id,r)}trimStatementMap(e,t){const r={},n=new Set([...Object.keys(e),...Object.keys(t)]);for(const o of n)if(o in t){const n=t[o];if(!(o in e))throw new ro("Cannot remove statement group");{const t=e[o],i=this.trimStatementGroup(t,n);null!==i&&(r[o]=i)}}else r[o]=e[o];return r}trimStatementGroup(e,t){const r=function(e){const t={};for(const r of e)r.id&&(t[r.id]=r);return t}(t),n=[];for(const o of e){if(!o.id){n.push(o);continue}const e=r[o.id];if(delete r[o.id],e){const t=this.trimStatement(o,e);null!==t&&n.push(t)}else n.push(o)}if(Object.keys(r).length)throw new ro("Cannot remove statement");return n.length?n:null}trimStatement(e,t){return Ze()(e,t)?null:e}}class go{constructor(){(0,D.Z)(this,"services",{})}set(e,t){this.services[e]=t}get(e){if(void 0===this.services[e])throw new Error(e+" is undefined");return this.services[e]}}class mo{constructor(e,t){(0,D.Z)(this,"directionalityResolver",void 0),(0,D.Z)(this,"bcp47Resolver",void 0),this.directionalityResolver=t.getDir,this.bcp47Resolver=e.bcp47}resolve(e){return{code:this.bcp47Resolver(e),directionality:this.directionalityResolver(e)}}}class yo{constructor(e,t,r){(0,D.Z)(this,"repoConfig",void 0),(0,D.Z)(this,"wikiUrlencode",void 0),(0,D.Z)(this,"querySerializer",void 0),this.repoConfig=e,this.wikiUrlencode=t,this.querySerializer=r}getPageUrl(e,t){let r,n;return t&&(n=this.querySerializer(t)),r=n?this.wikiScript()+"?title="+this.wikiUrlencode(e)+"&"+n:this.repoConfig.url+this.repoConfig.articlePath.replace("$1",this.wikiUrlencode(e).replace(/\$/g,"$$$$")),r}wikiScript(e="index.php"){return this.repoConfig.url+this.repoConfig.scriptPath+"/"+e}}class ho{constructor(e){(0,D.Z)(this,"mwMessages",void 0),this.mwMessages=e}get(e,...t){return this.mwMessages(e,...t).parse()}getText(e,...t){return this.mwMessages(e,...t).text()}}class Eo{constructor(e){(0,D.Z)(this,"api",void 0),this.api=e}getRepoConfiguration(){var e=this;return(0,C.Z)((function*(){const t=yield e.api.get({action:"query",meta:new Set(["wbdatabridgeconfig"]),errorformat:"raw",formatversion:2});if(e.responseWarnsAboutDisabledRepoConfiguration(t))throw new ro("Result indicates repo API is disabled (see dataBridgeEnabled).");if(!e.isWellFormedResponse(t.query))throw new ro("Result not well formed.");return t.query.wbdatabridgeconfig}))()}responseWarnsAboutDisabledRepoConfiguration(e){return Array.isArray(e.warnings)&&e.warnings.some((e=>"unrecognizedvalues"===e.code&&"query"===e.module))}isWellFormedResponse(e){var t,r;const n=e;return"object"==typeof n.wbdatabridgeconfig&&"string"==typeof n.wbdatabridgeconfig.dataRightsUrl&&"string"==typeof n.wbdatabridgeconfig.dataRightsText&&"string"==typeof n.wbdatabridgeconfig.termsOfUseUrl&&"number"==typeof(null===(t=n.wbdatabridgeconfig.dataTypeLimits)||void 0===t||null===(r=t.string)||void 0===r?void 0:r.maxLength)}}function vo(e){return(e||"error-type-undefined").toLowerCase().replace(/[^a-z0-9_]+/g,"_").replace(/^[^a-z0-9]|[^a-z0-9]$/g,"")}class bo{constructor(e){(0,D.Z)(this,"tracker",void 0),this.tracker=e}trackPropertyDatatype(e){this.tracker.increment("datatype."+e)}trackError(e){this.tracker.increment("error.all."+vo(e))}trackRecoveredError(e){this.tracker.increment("error.recovered."+vo(e))}trackUnknownError(e){this.tracker.increment("error.unknown."+vo(e))}trackSavingUnknownError(e){this.tracker.increment("error.onsave.unknown."+vo(e))}}class _o{constructor(e){(0,D.Z)(this,"api",void 0),this.api=e}getDataType(e){var t=this;return(0,C.Z)((function*(){return so(yield t.api.get({action:"wbgetentities",props:new Set(["datatype"]),ids:new Set([e]),errorformat:"raw",formatversion:2}).catch(ao),e).datatype}))()}}class So extends Error{}class Oo{constructor(e,t){(0,D.Z)(this,"forLanguageCode",void 0),(0,D.Z)(this,"api",void 0),this.forLanguageCode=e,this.api=t}getLabel(e){var t=this;return(0,C.Z)((function*(){const r=so(yield t.api.get({action:"wbgetentities",props:new Set(["labels"]),ids:new Set([e]),languages:new Set([t.forLanguageCode]),languagefallback:!0,errorformat:"raw",formatversion:2}).catch(ao),e);if(!(t.forLanguageCode in r.labels))throw new So(`Could not find label for language '${t.forLanguageCode}'.`);const n=r.labels[t.forLanguageCode];return{value:n.value,language:n.language}}))()}}!function(e){e[e.PROTECTED_PAGE=1]="PROTECTED_PAGE",e[e.CASCADE_PROTECTED_PAGE=2]="CASCADE_PROTECTED_PAGE",e[e.BLOCKED=3]="BLOCKED",e[e.UNKNOWN=-1]="UNKNOWN"}(zn||(zn={}));class wo{constructor(e,t){(0,D.Z)(this,"repoRepository",void 0),(0,D.Z)(this,"clientRepository",void 0),this.repoRepository=e,this.clientRepository=t}canUseBridgeForItemAndPage(e,t){var r=this;return(0,C.Z)((function*(){const[n,o]=yield Promise.all([r.repoRepository.getPermissionErrors(e),r.clientRepository.getPermissionErrors(t)]),i=[];return i.push(...n.map(r.repoErrorToMissingPermissionsError,r)),i.push(...o.map(r.clientErrorToMissingPermissionsError,r)),i}))()}repoErrorToMissingPermissionsError(e){switch(e.type){case zn.PROTECTED_PAGE:return{type:e.semiProtected?fr.ITEM_SEMI_PROTECTED:fr.ITEM_FULLY_PROTECTED,info:{right:e.right}};case zn.CASCADE_PROTECTED_PAGE:return{type:fr.ITEM_CASCADE_PROTECTED,info:{pages:e.pages}};case zn.BLOCKED:return{type:fr.BLOCKED_ON_REPO_ITEM,info:this.mapBlockInfoFromPermissionErrorTypeToPageNotEditable(e.blockinfo)};case zn.UNKNOWN:return this.unknownPermissionErrorToMissingPermissionsError(e)}}clientErrorToMissingPermissionsError(e){switch(e.type){case zn.PROTECTED_PAGE:throw new ro("Data Bridge should never have been opened on this protected page!");case zn.CASCADE_PROTECTED_PAGE:return{type:fr.PAGE_CASCADE_PROTECTED,info:{pages:e.pages}};case zn.BLOCKED:return{type:fr.BLOCKED_ON_CLIENT_PAGE,info:this.mapBlockInfoFromPermissionErrorTypeToPageNotEditable(e.blockinfo)};case zn.UNKNOWN:return this.unknownPermissionErrorToMissingPermissionsError(e)}}mapBlockInfoFromPermissionErrorTypeToPageNotEditable(e){return{blockId:e.blockid,blockedBy:e.blockedby,blockedTimestamp:e.blockedtimestamp,blockExpiry:e.blockexpiry,blockPartial:e.blockpartial,blockReason:e.blockreason,blockedById:e.blockedbyid}}unknownPermissionErrorToMissingPermissionsError(e){return{type:fr.UNKNOWN,info:{code:e.code,messageKey:e.messageKey,messageParams:e.messageParams}}}}class To extends Error{constructor(e){super(`The title '${e}' is invalid.`),(0,D.Z)(this,"title",void 0),this.title=e}}class Ro{constructor(e){(0,D.Z)(this,"api",void 0),this.api=e}getPermissionErrors(e){var t=this;return(0,C.Z)((function*(){const r=(yield t.api.get({action:"query",titles:new Set([e]),prop:new Set(["info"]),meta:new Set(["siteinfo"]),intestactions:new Set(["edit"]),intestactionsdetail:"full",siprop:new Set(["restrictions"]),errorformat:"raw",formatversion:2})).query,n=function(e,t){for(const r of e.normalized||[])if(r.from===t){t=r.to;break}for(const r of e.pages||[])if(r.title===t)return r;return null}(r,e);if(null===n)throw new ro(`API did not return information for page '${e}'.`);if(n.invalid)throw new To(e);!function(e){if(!("actions"in e))throw new ro("API info did not return test actions.")}(n),function(e){if(!("restrictions"in e))throw new ro("API siteinfo did not return restrictions.")}(r);const o=r.restrictions.semiprotectedlevels.map(t.rewriteCompatibilityRight);return n.actions.edit.map((e=>t.apiErrorToPermissionError(e,o)))}))()}apiErrorToPermissionError(e,t){switch(function(e){if(!("key"in e)||!("params"in e))throw new ro("API returned wrong error format.")}(e),e.code){case"protectedpage":{const r=e.params[0];return{type:zn.PROTECTED_PAGE,right:r,semiProtected:t.includes(r)}}case"cascadeprotected":{const t=this.parseWikitextPagesList(e.params[1]);if(t.length!==e.params[0])throw new ro(`API reported ${e.params[0]} cascade-protected pages but we parsed ${t.length}.`);return{type:zn.CASCADE_PROTECTED_PAGE,pages:t}}case"blocked":return{type:zn.BLOCKED,blockinfo:e.data.blockinfo};default:return{type:zn.UNKNOWN,code:e.code,messageKey:e.key,messageParams:e.params}}}rewriteCompatibilityRight(e){switch(e){case"sysop":return"editprotected";case"autoconfirmed":return"editsemiprotected";default:return e}}parseWikitextPagesList(e){const t=e.split("\n"),r=t.pop();if(""!==r)throw new ro("Wikitext did not end in blank line: "+r);return t.map((e=>{if(!e.startsWith("*"))throw new ro("Line does not look like a list item: "+e);let t=e.slice(1);if(t.startsWith(" ")&&(t=t.slice(1)),!t.startsWith("[[")||!t.endsWith("]]"))throw new ro("List item does not look like a wikilink: "+t);let r=t.slice(2,-2);return r.startsWith(":")&&(r=r.slice(1)),r}))}}class Ao{constructor(e){(0,D.Z)(this,"api",void 0),(0,D.Z)(this,"TITLES_LIMIT",50),this.api=e}purge(e){if(e.length>this.TITLES_LIMIT)throw new ro(`You cannot purge more than ${this.TITLES_LIMIT} titles`);return Promise.resolve(this.api.post({action:"purge",titles:e,forcelinkupdate:!0,errorformat:"raw",formatversion:2}))}}class ko{constructor(e,t){(0,D.Z)(this,"api",void 0),(0,D.Z)(this,"language",void 0),this.api=e,this.language=t}getRenderedReferences(e){return Promise.all(e.map((e=>this.renderSingleReference(e))))}renderSingleReference(e){var t=this;return(0,C.Z)((function*(){const r=yield t.api.get({action:"wbformatreference",reference:JSON.stringify(e),style:"internal-data-bridge",outputformat:"html",errorformat:"raw",formatversion:2,uselang:t.language});if(!t.isWellFormedFormatReferenceResponse(r))throw new ro("Reference formatting server response not well formed.");return r.wbformatreference.html}))()}isWellFormedFormatReferenceResponse(e){var t;return"string"==typeof(null==e||null===(t=e.wbformatreference)||void 0===t?void 0:t.html)}}function Io(e,t,r){const n=new go,o=e.mw.config.get("wbRepo"),i=new yo(o,e.mw.util.wikiUrlencode,e.$.param),s=new e.mw.Api;if(void 0===e.mw.ForeignApi)throw new Error("mw.ForeignApi was not loaded!");const a=new e.mw.ForeignApi(`${o.url}${o.scriptPath}/api.php`),c=new oo(a),u=new lo(c);n.set("readingEntityRepository",new co(u)),n.set("writingEntityRepository",new fo(new uo(c,0===t.length?void 0:t)));const l=e.mw.config.get("wgPageContentLanguage");if(n.set("entityLabelRepository",new Oo(l,u)),n.set("propertyDatatypeRepository",new _o(u)),void 0===e.$.uls)throw new Error("$.uls was not loaded!");n.set("languageInfoRepository",new mo(e.mw.language,e.$.uls.data)),n.set("messagesRepository",new ho(e.mw.message)),n.set("wikibaseRepoConfigRepository",new Eo(u)),n.set("tracker",new bo(r));const p=new oo(s);n.set("editAuthorizationChecker",new wo(new Ro(u),new Ro(p))),n.set("referencesRenderingRepository",new ko(p,l)),n.set("repoRouter",i),n.set("clientRouter",new po(e.mw.util.getUrl));const d=new Ao(s);return n.set("purgeTitles",d),n}function No(e,t,r,n){const o=et(n);o.dispatch("initBridge",r);const i=new Zn.EventEmitter,s=e(Wn,{emitter:i});return s.use(o),function(e,t,r,n,o){e.use(qn,t),e.use(Xn,r),e.use(eo,n),e.use(to,o)}(s,n.get("languageInfoRepository"),n.get("messagesRepository"),n.get("repoRouter"),n.get("clientRouter")),s.mount(t.containerSelector),i.on(O.relaunch,(()=>{o.dispatch("relaunchBridge",r)})),i}},1924:(e,t,r)=>{"use strict";var n=r(210),o=r(5559),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},5559:(e,t,r)=>{"use strict";var n=r(8612),o=r(210),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||n.call(s,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(n,s,arguments);if(c&&u){var r=c(t,"length");r.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var p=function(){return a(n,i,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p},1223:(e,t,r)=>{var n=r(5112),o=r(30),i=r(3070),s=n("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},1530:(e,t,r)=>{"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},7741:(e,t,r)=>{var n=r(1702)("".replace),o=String(Error("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,s=i.test(o);e.exports=function(e,t){if(s&&"string"==typeof e)for(;t--;)e=n(e,i,"");return e}},8544:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,r)=>{"use strict";var n=r(3383).IteratorPrototype,o=r(30),i=r(9114),s=r(8003),a=r(7497),c=function(){return this};e.exports=function(e,t,r,u){var l=t+" Iterator";return e.prototype=o(n,{next:i(+!u,r)}),s(e,l,!1,!0),a[l]=c,e}},654:(e,t,r)=>{"use strict";var n=r(2109),o=r(6916),i=r(1913),s=r(6530),a=r(614),c=r(4994),u=r(9518),l=r(7674),p=r(8003),d=r(8880),f=r(1320),g=r(5112),m=r(7497),y=r(3383),h=s.PROPER,E=s.CONFIGURABLE,v=y.IteratorPrototype,b=y.BUGGY_SAFARI_ITERATORS,_=g("iterator"),S=function(){return this};e.exports=function(e,t,r,s,g,y,O){c(r,t,s);var w,T,R,A=function(e){if(e===g&&C)return C;if(!b&&e in N)return N[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},k=t+" Iterator",I=!1,N=e.prototype,P=N[_]||N["@@iterator"]||g&&N[g],C=!b&&P||A(g),D="Array"==t&&N.entries||P;if(D&&(w=u(D.call(new e)))!==Object.prototype&&w.next&&(i||u(w)===v||(l?l(w,v):a(w[_])||f(w,_,S)),p(w,k,!0,!0),i&&(m[k]=S)),h&&"values"==g&&P&&"values"!==P.name&&(!i&&E?d(N,"name","values"):(I=!0,C=function(){return o(P,this)})),g)if(T={values:A("values"),keys:y?C:A("keys"),entries:A("entries")},O)for(R in T)(b||I||!(R in N))&&f(N,R,T[R]);else n({target:t,proto:!0,forced:b||I},T);return i&&!O||N[_]===C||f(N,_,C,{name:g}),m[t]=C,T}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,r)=>{var n=r(317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},2914:(e,t,r)=>{var n=r(7293),o=r(9114);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},7007:(e,t,r)=>{"use strict";r(4916);var n=r(1702),o=r(1320),i=r(2261),s=r(7293),a=r(5112),c=r(8880),u=a("species"),l=RegExp.prototype;e.exports=function(e,t,r,p){var d=a(e),f=!s((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=f&&!s((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!f||!g||r){var m=n(/./[d]),y=t(d,""[e],(function(e,t,r,o,s){var a=n(e),c=t.exec;return c===i||c===l.exec?f&&!s?{done:!0,value:m(t,r,o)}:{done:!0,value:a(r,t,o)}:{done:!1}}));o(String.prototype,e,y[0]),o(l,d,y[1])}p&&c(l[d],"sham",!0)}},647:(e,t,r)=>{var n=r(1702),o=r(7908),i=Math.floor,s=n("".charAt),a=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,p,d){var f=r+e.length,g=n.length,m=l;return void 0!==p&&(p=o(p),m=u),a(d,m,(function(o,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,f);case"<":u=p[c(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>g){var d=i(l/10);return 0===d?o:d<=g?void 0===n[d-1]?s(a,1):n[d-1]+s(a,1):o}u=n[l-1]}return void 0===u?"":u}))}},8340:(e,t,r)=>{var n=r(111),o=r(8880);e.exports=function(e,t){n(t)&&"cause"in t&&o(e,"cause",t.cause)}},3383:(e,t,r)=>{"use strict";var n,o,i,s=r(7293),a=r(614),c=r(30),u=r(9518),l=r(1320),p=r(5112),d=r(1913),f=p("iterator"),g=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(n=o):g=!0),null==n||s((function(){var e={};return n[f].call(e)!==e}))?n={}:d&&(n=c(n)),a(n[f])||l(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},6277:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},8006:(e,t,r)=>{var n=r(6324),o=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},9518:(e,t,r)=>{var n=r(7854),o=r(2597),i=r(614),s=r(7908),a=r(6200),c=r(8544),u=a("IE_PROTO"),l=n.Object,p=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=s(e);if(o(t,u))return t[u];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof l?p:null}},7651:(e,t,r)=>{var n=r(7854),o=r(6916),i=r(9670),s=r(614),a=r(4326),c=r(2261),u=n.TypeError;e.exports=function(e,t){var r=e.exec;if(s(r)){var n=o(r,e,t);return null!==n&&i(n),n}if("RegExp"===a(e))return o(c,e,t);throw u("RegExp#exec called on incompatible receiver")}},8710:(e,t,r)=>{var n=r(1702),o=r(9303),i=r(1340),s=r(4488),a=n("".charAt),c=n("".charCodeAt),u=n("".slice),l=function(e){return function(t,r){var n,l,p=i(s(t)),d=o(r),f=p.length;return d<0||d>=f?e?"":void 0:(n=c(p,d))<55296||n>56319||d+1===f||(l=c(p,d+1))<56320||l>57343?e?a(p,d):n:e?u(p,d,d+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},9191:(e,t,r)=>{"use strict";var n=r(5005),o=r(2597),i=r(8880),s=r(7976),a=r(7674),c=r(9920),u=r(9587),l=r(6277),p=r(8340),d=r(7741),f=r(2914),g=r(1913);e.exports=function(e,t,r,m){var y=m?2:1,h=e.split("."),E=h[h.length-1],v=n.apply(null,h);if(v){var b=v.prototype;if(!g&&o(b,"cause")&&delete b.cause,!r)return v;var _=n("Error"),S=t((function(e,t){var r=l(m?t:e,void 0),n=m?new v(e):new v;return void 0!==r&&i(n,"message",r),f&&i(n,"stack",d(n.stack,2)),this&&s(b,this)&&u(n,this,S),arguments.length>y&&p(n,arguments[y]),n}));if(S.prototype=b,"Error"!==E&&(a?a(S,_):c(S,_,{name:!0})),c(S,v),!g)try{b.name!==E&&i(b,"name",E),b.constructor=S}catch(e){}return S}}},6992:(e,t,r)=>{"use strict";var n=r(5656),o=r(1223),i=r(7497),s=r(9909),a=r(3070).f,c=r(654),u=r(1913),l=r(9781),p=s.set,d=s.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){p(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var f=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&l&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(e){}},1703:(e,t,r)=>{var n=r(2109),o=r(7854),i=r(2104),s=r(9191),a=o.WebAssembly,c=7!==Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=s(e,t,c),n({global:!0,forced:c},r)},l=function(e,t){if(a&&a[e]){var r={};r[e]=s("WebAssembly."+e,t,c),n({target:"WebAssembly",stat:!0,forced:c},r)}};u("Error",(function(e){return function(t){return i(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),u("URIError",(function(e){return function(t){return i(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},8862:(e,t,r)=>{var n=r(2109),o=r(7854),i=r(5005),s=r(2104),a=r(1702),c=r(7293),u=o.Array,l=i("JSON","stringify"),p=a(/./.exec),d=a("".charAt),f=a("".charCodeAt),g=a("".replace),m=a(1..toString),y=/[\uD800-\uDFFF]/g,h=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,v=function(e,t,r){var n=d(r,t-1),o=d(r,t+1);return p(h,e)&&!p(E,o)||p(E,e)&&!p(h,n)?"\\u"+m(f(e,0),16):e},b=c((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&n({target:"JSON",stat:!0,forced:b},{stringify:function(e,t,r){for(var n=0,o=arguments.length,i=u(o);n<o;n++)i[n]=arguments[n];var a=s(l,null,i);return"string"==typeof a?g(a,y,v):a}})},9720:(e,t,r)=>{var n=r(2109),o=r(4699).entries;n({target:"Object",stat:!0},{entries:function(e){return o(e)}})},4916:(e,t,r)=>{"use strict";var n=r(2109),o=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},5306:(e,t,r)=>{"use strict";var n=r(2104),o=r(6916),i=r(1702),s=r(7007),a=r(7293),c=r(9670),u=r(614),l=r(9303),p=r(7466),d=r(1340),f=r(4488),g=r(1530),m=r(8173),y=r(647),h=r(7651),E=r(5112)("replace"),v=Math.max,b=Math.min,_=i([].concat),S=i([].push),O=i("".indexOf),w=i("".slice),T="$0"==="a".replace(/./,"$0"),R=!!/./[E]&&""===/./[E]("a","$0");s("replace",(function(e,t,r){var i=R?"$":"$0";return[function(e,r){var n=f(this),i=null==e?void 0:m(e,E);return i?o(i,e,n,r):o(t,d(n),e,r)},function(e,o){var s=c(this),a=d(e);if("string"==typeof o&&-1===O(o,i)&&-1===O(o,"$<")){var f=r(t,s,a,o);if(f.done)return f.value}var m=u(o);m||(o=d(o));var E=s.global;if(E){var T=s.unicode;s.lastIndex=0}for(var R=[];;){var A=h(s,a);if(null===A)break;if(S(R,A),!E)break;""===d(A[0])&&(s.lastIndex=g(a,p(s.lastIndex),T))}for(var k,I="",N=0,P=0;P<R.length;P++){for(var C=d((A=R[P])[0]),D=v(b(l(A.index),a.length),0),x=[],M=1;M<A.length;M++)S(x,void 0===(k=A[M])?k:String(k));var L=A.groups;if(m){var B=_([C],x,D,a);void 0!==L&&S(B,L);var j=d(n(o,void 0,B))}else j=y(C,a,D,x,L,o);D>=N&&(I+=w(a,N,D)+j,N=D+C.length)}return I+w(a,N)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!T||R)},3948:(e,t,r)=>{var n=r(7854),o=r(8324),i=r(8509),s=r(6992),a=r(8880),c=r(5112),u=c("iterator"),l=c("toStringTag"),p=s.values,d=function(e,t){if(e){if(e[u]!==p)try{a(e,u,p)}catch(t){e[u]=p}if(e[l]||a(e,l,t),o[t])for(var r in s)if(e[r]!==s[r])try{a(e,r,s[r])}catch(t){e[r]=s[r]}}};for(var f in o)d(n[f]&&n[f].prototype,f);d(i,"DOMTokenList")},251:(e,t,r)=>{"use strict";var n=r(2215),o=r(2584),i=r(609),s=r(8420),a=r(2847),c=r(5826),u=r(8923),l=r(3679),p=r(210),d=r(1924),f=r(3483),g=r(3216),m=r(7478),y=r(6430),h=r(3533),E=d("Date.prototype.getTime"),v=Object.getPrototypeOf,b=d("Object.prototype.toString"),_=p("%Set%",!0),S=d("Map.prototype.has",!0),O=d("Map.prototype.get",!0),w=d("Map.prototype.size",!0),T=d("Set.prototype.add",!0),R=d("Set.prototype.delete",!0),A=d("Set.prototype.has",!0),k=d("Set.prototype.size",!0);function I(e,t,r,n){for(var o,i=g(e);(o=i.next())&&!o.done;)if(x(t,o.value,r,n))return R(e,o.value),!0;return!1}function N(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function P(e,t,r,n,o,i){var s=N(r);if(null!=s)return s;var a=O(t,s),c=h({},o,{strict:!1});return!(void 0===a&&!S(t,s)||!x(n,a,c,i))&&!S(e,s)&&x(n,a,c,i)}function C(e,t,r){var n=N(r);return null!=n?n:A(t,n)&&!A(e,n)}function D(e,t,r,n,o,i){for(var s,a,c=g(e);(s=c.next())&&!s.done;)if(x(r,a=s.value,o,i)&&x(n,O(t,a),o,i))return R(e,a),!0;return!1}function x(e,t,r,p){var d=r||{};if(d.strict?i(e,t):e===t)return!0;if(l(e)!==l(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return d.strict?i(e,t):e==t;var m,R=p.has(e),N=p.has(t);if(R&&N){if(p.get(e)===p.get(t))return!0}else m={};return R||p.set(e,m),N||p.set(t,m),function(e,t,r,i){var l,p;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(b(e)!==b(t))return!1;if(o(e)!==o(t))return!1;var d=c(e),m=c(t);if(d!==m)return!1;var R=e instanceof Error,N=t instanceof Error;if(R!==N)return!1;if((R||N)&&(e.name!==t.name||e.message!==t.message))return!1;var L=s(e),B=s(t);if(L!==B)return!1;if((L||B)&&(e.source!==t.source||a(e)!==a(t)))return!1;var j=u(e),U=u(t);if(j!==U)return!1;if((j||U)&&E(e)!==E(t))return!1;if(r.strict&&v&&v(e)!==v(t))return!1;if(y(e)!==y(t))return!1;var $=M(e),V=M(t);if($!==V)return!1;if($||V){if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}if(typeof e!=typeof t)return!1;var G=n(e),F=n(t);if(G.length!==F.length)return!1;for(G.sort(),F.sort(),l=G.length-1;l>=0;l--)if(G[l]!=F[l])return!1;for(l=G.length-1;l>=0;l--)if(p=G[l],!x(e[p],t[p],r,i))return!1;var H=f(e),Y=f(t);return H===Y&&("Set"===H||"Set"===Y?function(e,t,r,n){if(k(e)!==k(t))return!1;for(var o,i,s,a=g(e),c=g(t);(o=a.next())&&!o.done;)if(o.value&&"object"==typeof o.value)s||(s=new _),T(s,o.value);else if(!A(t,o.value)){if(r.strict)return!1;if(!C(e,t,o.value))return!1;s||(s=new _),T(s,o.value)}if(s){for(;(i=c.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!I(s,i.value,r.strict,n))return!1}else if(!r.strict&&!A(e,i.value)&&!I(s,i.value,r.strict,n))return!1;return 0===k(s)}return!0}(e,t,r,i):"Map"!==H||function(e,t,r,n){if(w(e)!==w(t))return!1;for(var o,i,s,a,c,u,l=g(e),p=g(t);(o=l.next())&&!o.done;)if(a=o.value[0],c=o.value[1],a&&"object"==typeof a)s||(s=new _),T(s,a);else if(void 0===(u=O(t,a))&&!S(t,a)||!x(c,u,r,n)){if(r.strict)return!1;if(!P(e,t,a,c,r,n))return!1;s||(s=new _),T(s,a)}if(s){for(;(i=p.next())&&!i.done;)if(a=i.value[0],u=i.value[1],a&&"object"==typeof a){if(!D(s,e,a,u,r,n))return!1}else if(!(r.strict||e.has(a)&&x(O(e,a),u,r,n)||D(s,e,a,u,h({},r,{strict:!1}),n)))return!1;return 0===k(s)}return!0}(e,t,r,i))}(e,t,d,p)}function M(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&"function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}e.exports=function(e,t,r){return x(e,t,r,m())}},4289:(e,t,r)=>{"use strict";var n=r(2215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=r(1044)(),u=a&&c,l=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(u?a(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},p=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=s.call(i,Object.getOwnPropertySymbols(t)));for(var a=0;a<i.length;a+=1)l(e,i[a],t[i[a]],r[i[a]])};p.supportsDescriptors=!!u,e.exports=p},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,r)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var o,i,s,u;if(a(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=l.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):g(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,l=g(c,u);for(r=0;r<u;++r)n(l[r],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,p(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,p(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,o,i,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9804:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,o){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)n.call(o,e[s],s,e);else for(var a in e)t.call(e,a)&&n.call(o,e[a],a,e)}},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==n.call(o))throw new TypeError(t+o);for(var i,s=r.call(arguments,1),a=function(){if(this instanceof i){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,o.length-s.length),u=[],l=0;l<c;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(a),o.prototype){var p=function(){};p.prototype=o.prototype,i.prototype=new p,p.prototype=null}return i}},8612:(e,t,r)=>{"use strict";var n=r(7648);e.exports=Function.prototype.bind||n},5972:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},210:(e,t,r)=>{"use strict";var n=SyntaxError,o=Function,i=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(e){a=null}var c=function(){throw new i},u=a?function(){try{return c}catch(e){try{return a(arguments,"callee").get}catch(e){return c}}}():c,l=r(1405)(),p=Object.getPrototypeOf||function(e){return e.__proto__},d={},f="undefined"==typeof Uint8Array?void 0:p(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?p(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=r(8612),h=r(7642),E=y.call(Function.call,Array.prototype.concat),v=y.call(Function.apply,Array.prototype.splice),b=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),S=y.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,T=function(e){var t=_(e,0,1),r=_(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var o=[];return b(e,O,(function(e,t,r,n){o[o.length]=r?b(n,w,"$1"):t||e})),o},R=function(e,t){var r,o=e;if(h(m,o)&&(o="%"+(r=m[o])[0]+"%"),h(g,o)){var a=g[o];if(a===d&&(a=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=p(o.prototype))}return g[t]=r,r}(o)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:a}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=T(e),o=r.length>0?r[0]:"",s=R("%"+o+"%",t),c=s.name,u=s.value,l=!1,p=s.alias;p&&(o=p[0],v(r,E([0,1],p)));for(var d=1,f=!0;d<r.length;d+=1){var m=r[d],y=_(m,0,1),b=_(m,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new n("property names with quotes must have matching quotes");if("constructor"!==m&&f||(l=!0),h(g,c="%"+(o+="."+m)+"%"))u=g[c];else if(null!=u){if(!(m in u)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(a&&d+1>=r.length){var O=a(u,m);u=(f=!!O)&&"get"in O&&!("originalValue"in O.get)?O.get:u[m]}else f=h(u,m),u=u[m];f&&!l&&(g[c]=u)}}return u}},932:e=>{"use strict";var t="undefined"!=typeof BigInt&&BigInt;e.exports=function(){return"function"==typeof t&&"function"==typeof BigInt&&"bigint"==typeof t(42)&&"bigint"==typeof BigInt(42)}},1044:(e,t,r)=>{"use strict";var n=r(210)("%Object.defineProperty%",!0),o=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},1405:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(5419);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},6410:(e,t,r)=>{"use strict";var n=r(5419);e.exports=function(){return n()&&!!Symbol.toStringTag}},7642:(e,t,r)=>{"use strict";var n=r(8612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2584:(e,t,r)=>{"use strict";var n=r(6410)(),o=r(1924)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},s=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,e.exports=a?i:s},3376:(e,t,r)=>{"use strict";if(r(932)()){var n=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return n.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},6814:(e,t,r)=>{"use strict";var n=r(1924),o=n("Boolean.prototype.toString"),i=n("Object.prototype.toString"),s=r(6410)();e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(s&&Symbol.toStringTag in e?function(e){try{return o(e),!0}catch(e){return!1}}(e):"[object Boolean]"===i(e))}},8923:(e,t,r)=>{"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i=r(6410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},8379:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},4578:(e,t,r)=>{"use strict";var n=Number.prototype.toString,o=Object.prototype.toString,i=r(6410)();e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Number]"===o.call(e))}},8420:(e,t,r)=>{"use strict";var n,o,i,s,a=r(1924),c=r(6410)();if(c){n=a("Object.prototype.hasOwnProperty"),o=a("RegExp.prototype.exec"),i={};var u=function(){throw i};s={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=u)}var l=a("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!=typeof e)return!1;var t=p(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{o(e,s)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===l(e)}},9572:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(i.call(e),o)try{o.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},9981:(e,t,r)=>{"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,i=r(6410)();e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object String]"===o.call(e))}},2636:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(1405)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},5692:(e,t,r)=>{"use strict";var n=r(9804),o=r(3083),i=r(1924),s=i("Object.prototype.toString"),a=r(6410)(),c="undefined"==typeof globalThis?r.g:globalThis,u=o(),l=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},p=i("String.prototype.slice"),d={},f=r(882),g=Object.getPrototypeOf;a&&f&&g&&n(u,(function(e){var t=new c[e];if(Symbol.toStringTag in t){var r=g(t),n=f(r,Symbol.toStringTag);if(!n){var o=g(r);n=f(o,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a||!(Symbol.toStringTag in e)){var t=p(s(e),8,-1);return l(u,t)>-1}return!!f&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},1718:e=>{"use strict";var t,r="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(t=function(e){return!1});var o=r?r.prototype.has:null,i=n?n.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e,o),i)try{i.call(e,i)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},5899:(e,t,r)=>{"use strict";var n=r(210),o=r(1924),i=n("%WeakSet%",!0),s=o("WeakSet.prototype.has",!0);if(s){var a=o("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!=typeof e)return!1;try{if(s(e,s),a)try{a(e,a)}catch(e){return!0}return e instanceof i}catch(e){}return!1}}else e.exports=function(e){return!1}},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},4239:(e,t,r)=>{var n=r(2705),o=r(9607),i=r(2333),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},7561:(e,t,r)=>{var n=r(7990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},1957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},9607:(e,t,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[a]=r:delete e[a]),o}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:(e,t,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},7990:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},3279:(e,t,r)=>{var n=r(3218),o=r(7771),i=r(4841),s=Math.max,a=Math.min;e.exports=function(e,t,r){var c,u,l,p,d,f,g=0,m=!1,y=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var r=c,n=u;return c=u=void 0,g=t,p=e.apply(n,r)}function v(e){return g=e,d=setTimeout(_,t),m?E(e):p}function b(e){var r=e-f;return void 0===f||r>=t||r<0||y&&e-g>=l}function _(){var e=o();if(b(e))return S(e);d=setTimeout(_,function(e){var r=t-(e-f);return y?a(r,l-(e-g)):r}(e))}function S(e){return d=void 0,h&&c?E(e):(c=u=void 0,p)}function O(){var e=o(),r=b(e);if(c=arguments,u=this,f=e,r){if(void 0===d)return v(f);if(y)return clearTimeout(d),d=setTimeout(_,t),E(f)}return void 0===d&&(d=setTimeout(_,t)),p}return t=i(t)||0,n(r)&&(m=!!r.leading,l=(y="maxWait"in r)?s(i(r.maxWait)||0,t):l,h="trailing"in r?!!r.trailing:h),O.cancel=function(){void 0!==d&&clearTimeout(d),g=0,c=f=u=d=void 0},O.flush=function(){return void 0===d?p:S(o())},O}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},7771:(e,t,r)=>{var n=r(5639);e.exports=function(){return n.Date.now()}},4841:(e,t,r)=>{var n=r(7561),o=r(3218),i=r(3448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=a.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):s.test(e)?NaN:+e}},631:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&c&&"function"==typeof c.get?c.get:null,l=a&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,m=Object.prototype.toString,y=Function.prototype.toString,h=String.prototype.match,E=String.prototype.slice,v=String.prototype.replace,b=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,O=Array.prototype.concat,w=Array.prototype.join,T=Array.prototype.slice,R=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,N="function"==typeof Symbol&&"object"==typeof Symbol.iterator,P="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,C=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function x(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-R(-e):R(e);if(n!==e){var o=String(n),i=E.call(t,o.length+1);return v.call(o,r,"$&_")+"."+v.call(v.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(t,r,"$&_")}var M=r(4654),L=M.custom,B=G(L)?L:null;function j(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function U(e){return v.call(String(e),/"/g,"&quot;")}function $(e){return!("[object Array]"!==Y(e)||P&&"object"==typeof e&&P in e)}function V(e){return!("[object RegExp]"!==Y(e)||P&&"object"==typeof e&&P in e)}function G(e){if(N)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,o){var a=r||{};if(H(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!H(a,"customInspect")||a.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength,o="... "+n+" more character"+(n>1?"s":"");return e(E.call(t,0,r.maxStringLength),r)+o}return j(v.call(v.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,W),"single",r)}(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var b=String(t);return m?x(t,b):b}if("bigint"==typeof t){var S=String(t)+"n";return m?x(t,S):S}var R=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=R&&R>0&&"object"==typeof t)return $(t)?"[Array]":"[Object]";var k=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=w.call(Array(e.indent+1)," ")}return{base:r,prev:w.call(Array(t+1),r)}}(a,n);if(void 0===o)o=[];else if(K(o,t)>=0)return"[Circular]";function L(t,r,i){if(r&&(o=T.call(o)).push(r),i){var s={depth:a.depth};return H(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,n+1,o)}return e(t,a,n+1,o)}if("function"==typeof t&&!V(t)){var F=function(e){if(e.name)return e.name;var t=h.call(y.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),X=Q(t,L);return"[Function"+(F?": "+F:" (anonymous)")+"]"+(X.length>0?" { "+w.call(X,", ")+" }":"")}if(G(t)){var ee=N?v.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(t);return"object"!=typeof t||N?ee:Z(ee)}if(function(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}(t)){for(var te="<"+_.call(String(t.nodeName)),re=t.attributes||[],ne=0;ne<re.length;ne++)te+=" "+re[ne].name+"="+j(U(re[ne].value),"double",a);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+"</"+_.call(String(t.nodeName))+">"}if($(t)){if(0===t.length)return"[]";var oe=Q(t,L);return k&&!function(e){for(var t=0;t<e.length;t++)if(K(e[t],"\n")>=0)return!1;return!0}(oe)?"["+J(oe,k)+"]":"[ "+w.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==Y(e)||P&&"object"==typeof e&&P in e)}(t)){var ie=Q(t,L);return"cause"in Error.prototype||!("cause"in t)||C.call(t,"cause")?0===ie.length?"["+String(t)+"]":"{ ["+String(t)+"] "+w.call(ie,", ")+" }":"{ ["+String(t)+"] "+w.call(O.call("[cause]: "+L(t.cause),ie),", ")+" }"}if("object"==typeof t&&c){if(B&&"function"==typeof t[B]&&M)return M(t,{depth:R-n});if("symbol"!==c&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var se=[];return s.call(t,(function(e,r){se.push(L(r,t,!0)+" => "+L(e,t))})),z("Map",i.call(t),se,k)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ae=[];return l.call(t,(function(e){ae.push(L(e,t))})),z("Set",u.call(t),ae,k)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return q("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return q("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return q("WeakRef");if(function(e){return!("[object Number]"!==Y(e)||P&&"object"==typeof e&&P in e)}(t))return Z(L(Number(t)));if(function(e){if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}(t))return Z(L(A.call(t)));if(function(e){return!("[object Boolean]"!==Y(e)||P&&"object"==typeof e&&P in e)}(t))return Z(g.call(t));if(function(e){return!("[object String]"!==Y(e)||P&&"object"==typeof e&&P in e)}(t))return Z(L(String(t)));if(!function(e){return!("[object Date]"!==Y(e)||P&&"object"==typeof e&&P in e)}(t)&&!V(t)){var ce=Q(t,L),ue=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,le=t instanceof Object?"":"null prototype",pe=!ue&&P&&Object(t)===t&&P in t?E.call(Y(t),8,-1):le?"Object":"",de=(ue||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||le?"["+w.call(O.call([],pe||[],le||[]),": ")+"] ":"");return 0===ce.length?de+"{}":k?de+"{"+J(ce,k)+"}":de+"{ "+w.call(ce,", ")+" }"}return String(t)};var F=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return F.call(e,t)}function Y(e){return m.call(e)}function K(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function W(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function Z(e){return"Object("+e+")"}function q(e){return e+" { ? }"}function z(e,t,r,n){return e+" ("+t+") {"+(n?J(r,n):w.call(r,", "))+"}"}function J(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+w.call(e,","+r)+"\n"+t.prev}function Q(e,t){var r=$(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=H(e,o)?t(e[o],e):""}var i,s="function"==typeof k?k(e):[];if(N){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=s[a]}for(var c in e)H(e,c)&&(r&&String(Number(c))===c&&c<e.length||N&&i["$"+c]instanceof Symbol||(S.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e))));if("function"==typeof k)for(var u=0;u<s.length;u++)C.call(e,s[u])&&n.push("["+t(s[u])+"]: "+t(e[s[u]],e));return n}},4244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},609:(e,t,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(4244),s=r(5624),a=r(2281),c=o(s(),Object);n(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c},5624:(e,t,r)=>{"use strict";var n=r(4244);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},2281:(e,t,r)=>{"use strict";var n=r(5624),o=r(4289);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},8987:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(1414),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=s(e),a=t&&"[object String]"===i.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var g=u&&r;if(a&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(n&&e.length>0)for(var y=0;y<e.length;++y)d.push(String(y));else for(var h in e)g&&"prototype"===h||!o.call(e,h)||d.push(String(h));if(c)for(var E=function(e){if("undefined"==typeof window||!f)return p(e);try{return p(e)}catch(e){return!1}}(e),v=0;v<l.length;++v)E&&"constructor"===l[v]||!o.call(e,l[v])||d.push(l[v]);return d}}e.exports=n},2215:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(1414),i=Object.keys,s=i?function(e){return i(e)}:r(8987),a=Object.keys;s.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)}):Object.keys=s,Object.keys||s},e.exports=s},1414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},2837:(e,t,r)=>{"use strict";var n=r(2215),o=r(5419)(),i=r(1924),s=Object,a=i("Array.prototype.push"),c=i("Object.prototype.propertyIsEnumerable"),u=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=s(e);if(1===arguments.length)return r;for(var i=1;i<arguments.length;++i){var l=s(arguments[i]),p=n(l),d=o&&(Object.getOwnPropertySymbols||u);if(d)for(var f=d(l),g=0;g<f.length;++g){var m=f[g];c(l,m)&&a(p,m)}for(var y=0;y<p.length;++y){var h=p[y];if(c(l,h)){var E=l[h];r[h]=E}}}return r}},3533:(e,t,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(2837),s=r(8162),a=r(4489),c=o.apply(s()),u=function(e,t){return c(Object,arguments)};n(u,{getPolyfill:s,implementation:i,shim:a}),e.exports=u},8162:(e,t,r)=>{"use strict";var n=r(2837);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var s in o)i+=s;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},4489:(e,t,r)=>{"use strict";var n=r(4289),o=r(8162);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},3697:(e,t,r)=>{"use strict";var n=r(5972).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},n&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},2847:(e,t,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(3697),s=r(1721),a=r(2753),c=o(s());n(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c},1721:(e,t,r)=>{"use strict";var n=r(3697),o=r(4289).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},2753:(e,t,r)=>{"use strict";var n=r(4289).supportsDescriptors,o=r(1721),i=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!n||!c)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(u),r=i(t,"flags");return r&&r.get===e||s(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},7478:(e,t,r)=>{"use strict";var n=r(210),o=r(1924),i=r(631),s=n("%TypeError%"),a=n("%WeakMap%",!0),c=n("%Map%",!0),u=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),p=o("WeakMap.prototype.has",!0),d=o("Map.prototype.get",!0),f=o("Map.prototype.set",!0),g=o("Map.prototype.has",!0),m=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new s("Side channel does not contain "+i(e))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(c){if(t)return d(t,n)}else if(r)return function(e,t){var r=m(e,t);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return p(e,n)}else if(c){if(t)return g(t,n)}else if(r)return function(e,t){return!!m(e,t)}(r,n);return!1},set:function(n,o){a&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new a),l(e,n,o)):c?(t||(t=new c),f(t,n,o)):(r||(r={key:{},next:null}),function(e,t,r){var n=m(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,o))}};return n}},4785:(e,t,r)=>{"use strict";r(1703),r(8862),r(3948),r(9720);class n extends Error{constructor(e){super(n._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,n)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch(t){return String(e)}}}const o=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],i=({from:e,seen:t,to_:r,forceEnumerable:n})=>{const s=r||(Array.isArray(e)?[]:{});t.push(e);for(const[o,a]of Object.entries(e))"function"!=typeof a&&(a&&"object"==typeof a?t.includes(e[o])?s[o]="[Circular]":s[o]=i({from:e[o],seen:t.slice(),forceEnumerable:n}):s[o]=a);for(const{property:i,enumerable:a}of o)"string"==typeof e[i]&&Object.defineProperty(s,i,{value:e[i],enumerable:!!n||a,configurable:!0,writable:!0});return s};e.exports={serializeError:e=>"object"==typeof e&&null!==e?i({from:e,seen:[],forceEnumerable:!0}):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e,deserializeError:e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=new Error;return i({from:e,seen:[],to_:t}),t}return new n(e)}}},3679:(e,t,r)=>{"use strict";var n=r(9981),o=r(4578),i=r(6814),s=r(2636),a=r(3376);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:n(e)?"String":o(e)?"Number":i(e)?"Boolean":s(e)?"Symbol":a(e)?"BigInt":void 0}},6430:(e,t,r)=>{"use strict";var n=r(9804),o=r(3083),i=r(1924),s=i("Object.prototype.toString"),a=r(6410)(),c="undefined"==typeof globalThis?r.g:globalThis,u=o(),l=i("String.prototype.slice"),p={},d=r(882),f=Object.getPrototypeOf;a&&d&&f&&n(u,(function(e){if("function"==typeof c[e]){var t=new c[e];if(Symbol.toStringTag in t){var r=f(t),n=d(r,Symbol.toStringTag);if(!n){var o=f(r);n=d(o,Symbol.toStringTag)}p[e]=n.get}}}));var g=r(5692);e.exports=function(e){return!!g(e)&&(a&&Symbol.toStringTag in e?function(e){var t=!1;return n(p,(function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}})),t}(e):l(s(e),8,-1))}},4654:()=>{},3083:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}},882:(e,t,r)=>{"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3216:(e,t,r)=>{"use strict";var n=r(2584);if(r(1405)()||r(5419)()){var o=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[o]?e[o]():n(e)?Array.prototype[o].call(e):void 0}}else{var i=r(5826),s=r(9981),a=r(210),c=a("%Map%",!0),u=a("%Set%",!0),l=r(1924),p=l("Array.prototype.push"),d=l("String.prototype.charCodeAt"),f=l("String.prototype.slice"),g=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},m=function(e,t){if(i(e)||n(e))return g(e);if(s(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=d(e,t);if(r<55296||r>56319)return t+1;var n=d(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=f(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(c||u){var y=r(8379),h=r(9572),E=l("Map.prototype.forEach",!0),v=l("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var b=l("Map.prototype.iterator",!0),_=l("Set.prototype.iterator",!0),S=function(e){var t=!1;return{next:function(){try{return{done:t,value:t?void 0:e.next()}}catch(e){return t=!0,{done:!0,value:void 0}}}}};var O=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),w=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(y(e)){if(b)return S(b(e));if(O)return O(e);if(E){var t=[];return E(e,(function(e,r){p(t,[r,e])})),g(t)}}if(h(e)){if(_)return S(_(e));if(w)return w(e);if(v){var r=[];return v(e,(function(e){p(r,e)})),g(r)}}}(e)||m(e)}}else e.exports=function(e){if(null!=e)return m(e,!0)}}},3483:(e,t,r)=>{"use strict";var n=r(8379),o=r(9572),i=r(1718),s=r(5899);e.exports=function(e){if(e&&"object"==typeof e){if(n(e))return"Map";if(o(e))return"Set";if(i(e))return"WeakMap";if(s(e))return"WeakSet"}return!1}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var s=1/0;for(l=0;l<e.length;l++){for(var[r,o,i]=e[l],a=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[s,a,c]=r,u=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var l=c(n)}for(t&&t(r);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},r=self.webpackChunkdata_bridge=self.webpackChunkdata_bridge||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[998],(()=>n(1466)));o=n.O(o),module.exports=o})();