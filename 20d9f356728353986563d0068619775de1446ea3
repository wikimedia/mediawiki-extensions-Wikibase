{
  "comments": [
    {
      "key": {
        "uuid": "8e46e3ee_6180534c",
        "filename": "client/config/WikibaseClient.default.php",
        "patchSetId": 4
      },
      "lineNbr": 274,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-03-17T15:29:45Z",
      "side": 1,
      "message": "I don\u0027t think that adding a FIXME on top of an XXX is going to help us in any way. Also what this comment says is not really actionable: Which \"site\"? \"Break\" how? \"Strange\" how?",
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_56695c87",
        "filename": "client/config/WikibaseClient.default.php",
        "patchSetId": 4
      },
      "lineNbr": 274,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-17T22:04:02Z",
      "side": 1,
      "message": "Your client site. The site using this code. If your repo has properties in a namespace other than 120, your client site will choke, unless you override this default.\n\nThere is NO reason to assume 120 is the correct number. We simply need this to be configured explicitly, or complain immediately.",
      "parentUuid": "8e46e3ee_6180534c",
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_4198b7c3",
        "filename": "client/tests/phpunit/includes/WikibaseClientTest.php",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-03-17T15:29:45Z",
      "side": 1,
      "message": "Unused.",
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_81d31f61",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-03-17T15:29:45Z",
      "side": 1,
      "message": "This is not really doable because this depends on knowledge about Wikibase.git, and uses core.",
      "range": {
        "startLine": 18,
        "startChar": 3,
        "endLine": 18,
        "endChar": 43
      },
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_d6224c50",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-17T22:04:02Z",
      "side": 1,
      "message": "Yes, it depends on core, so what?  So does lib, and so does view. Both are separate components.\n\nHow and where does it depend on Wikibase.lib?",
      "parentUuid": "8e46e3ee_81d31f61",
      "range": {
        "startLine": 18,
        "startChar": 3,
        "endLine": 18,
        "endChar": 43
      },
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_21e24b2f",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 31,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-03-17T15:29:45Z",
      "side": 1,
      "message": "Can\u0027t be null.",
      "range": {
        "startLine": 31,
        "startChar": 26,
        "endLine": 31,
        "endChar": 30
      },
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_0192afa1",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-03-17T15:29:45Z",
      "side": 1,
      "message": "Shouldn\u0027t this be private?",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 33,
        "endChar": 7
      },
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_d6e1ecfc",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-17T22:04:02Z",
      "side": 1,
      "message": "No, see me reply to Aleksey in an earlier patch set. The idea is that we can use this to get the config for MediaInfo or Lexeme, as well.",
      "parentUuid": "8e46e3ee_0192afa1",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 33,
        "endChar": 7
      },
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_3034d0a6",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-03-20T11:32:33Z",
      "side": 1,
      "message": "I would suggest to make it private for now.\n\nFor me it is not obvious that these extensions really need this helper method. \nI would feel much better if other extensions would only depend on Wikibase\u0027s interfaces, but not concrete classes and not reused the way (algorithm) to define settings. \nIt is quiet small piece of code and I would rather had it copy-pasted (if it is needed at all) then add another coupling.",
      "parentUuid": "8e46e3ee_d6e1ecfc",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 33,
        "endChar": 7
      },
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_e1eb0308",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-03-17T15:29:45Z",
      "side": 1,
      "message": "Can you please either make this a\n\nswitch ( $component ) {\n    case \u0027repo\u0027:\n        $settings \u003d $GLOBALS[\u0027wgWBRepoSettings\u0027];\n        break;\n    default:\n        throw â€¦\n}\n\nor simply pass in the full name of the global instead of concatenating strings here? This is just not necessary and makes the code hard to read. The later should only be done if the method is private.",
      "range": {
        "startLine": 34,
        "startChar": 9,
        "endLine": 34,
        "endChar": 30
      },
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_f6bbc8dc",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-17T22:04:02Z",
      "side": 1,
      "message": "You pass in the name of a component, and you get out a SettingsArray. The code does not know all possible components, and the caller should not know the names of the variables.",
      "parentUuid": "8e46e3ee_e1eb0308",
      "range": {
        "startLine": 34,
        "startChar": 9,
        "endLine": 34,
        "endChar": 30
      },
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_10b3d4fe",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-03-20T12:19:17Z",
      "side": 1,
      "message": "I don\u0027t understand how this is a response to what I wrote. All I\u0027m asking for is to avoid the not needed string concatenation.\n\nHow does the code not know the components? It should. I had the impression this is the whole point of this class: to extract existing code from repo and client. Repo and client. Nothing more. By introducing a method that can access any global configuration it wants this code is obscuring the dependencies we do have a problem with. This does not remove any dependency, it does not even make them \"soft\". As long as there is a hard coded \"Repo\" in client that accesses the repo config we are in the exact same situation as before.\n\nObscuring this makes the situation worse.\n\nI\u0027m afraid this public method is a major problem, and a major source of confusion and misunderstanding between team members. I\u0027m going to set a temporary -2 until this is resolved.",
      "parentUuid": "8e46e3ee_f6bbc8dc",
      "range": {
        "startLine": 34,
        "startChar": 9,
        "endLine": 34,
        "endChar": 30
      },
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_c1d92785",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-03-17T15:29:45Z",
      "side": 1,
      "message": "This is a side-effect that should be documented.",
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_96d36430",
        "filename": "lib/includes/WikibaseSettings.php",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-17T22:04:02Z",
      "side": 1,
      "message": "True, will do",
      "parentUuid": "8e46e3ee_c1d92785",
      "revId": "20d9f356728353986563d0068619775de1446ea3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}